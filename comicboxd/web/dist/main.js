!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){e.exports={test:"_3GZ-_Oit-8MoPrYSDj8ulh"}},,function(e,t,n){"use strict";n.r(t);var o=function(){},r={},i=[],a=[];function l(e,t){var n,l,u,s,c=a;for(s=arguments.length;s-- >2;)i.push(arguments[s]);for(t&&null!=t.children&&(i.length||i.push(t.children),delete t.children);i.length;)if((l=i.pop())&&void 0!==l.pop)for(s=l.length;s--;)i.push(l[s]);else"boolean"==typeof l&&(l=null),(u="function"!=typeof e)&&(null==l?l="":"number"==typeof l?l=String(l):"string"!=typeof l&&(u=!1)),u&&n?c[c.length-1]+=l:c===a?c=[l]:c.push(l),n=u;var p=new o;return p.nodeName=e,p.children=c,p.attributes=null==t?void 0:t,p.key=null==t?void 0:t.key,void 0!==r.vnode&&r.vnode(p),p}function u(e,t){for(var n in t)e[n]=t[n];return e}var s="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var c=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,p=[];function f(e){!e._dirty&&(e._dirty=!0)&&1==p.push(e)&&(r.debounceRendering||s)(d)}function d(){var e,t=p;for(p=[];e=t.pop();)e._dirty&&L(e)}function v(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&_(e,t.nodeName):n||e._componentConstructor===t.nodeName}function _(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function m(e){var t=u({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var o in n)void 0===t[o]&&(t[o]=n[o]);return t}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n,o,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),o&&o(e);else if("class"!==t||r)if("style"===t){if(o&&"string"!=typeof o&&"string"!=typeof n||(e.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof n)for(var i in n)i in o||(e.style[i]="");for(var i in o)e.style[i]="number"==typeof o[i]&&!1===c.test(i)?o[i]+"px":o[i]}}else if("dangerouslySetInnerHTML"===t)o&&(e.innerHTML=o.__html||"");else if("o"==t[0]&&"n"==t[1]){var a=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,b,a):e.removeEventListener(t,b,a),(e._listeners||(e._listeners={}))[t]=o}else if("list"!==t&&"type"!==t&&!r&&t in e){try{e[t]=null==o?"":o}catch(e){}null!=o&&!1!==o||"spellcheck"==t||e.removeAttribute(t)}else{var l=r&&t!==(t=t.replace(/^xlink:?/,""));null==o||!1===o?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof o&&(l?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||""}function b(e){return this._listeners[e.type](r.event&&r.event(e)||e)}var g=[],x=0,C=!1,N=!1;function w(){for(var e;e=g.pop();)r.afterMount&&r.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,n,o,r,i){x++||(C=null!=r&&void 0!==r.ownerSVGElement,N=null!=e&&!("__preactattr_"in e));var a=k(e,t,n,o,i);return r&&a.parentNode!==r&&r.appendChild(a),--x||(N=!1,i||w()),a}function k(e,t,n,o,r){var i=e,a=C;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),P(e,!0))),i.__preactattr_=!0,i;var l=t.nodeName;if("function"==typeof l)return function(e,t,n,o){var r=e&&e._component,i=r,a=e,l=r&&e._componentConstructor===t.nodeName,u=l,s=m(t);for(;r&&!u&&(r=r._parentComponent);)u=r.constructor===t.nodeName;r&&u&&(!o||r._component)?(j(r,s,3,n,o),e=r.base):(i&&!l&&(O(i),e=a=null),r=T(t.nodeName,s,n),e&&!r.nextBase&&(r.nextBase=e,a=null),j(r,s,1,n,o),e=r.base,a&&e!==a&&(a._component=null,P(a,!1)));return e}(e,t,n,o);if(C="svg"===l||"foreignObject"!==l&&C,l=String(l),(!e||!_(e,l))&&(i=function(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}(l,C),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),P(e,!0)}var u=i.firstChild,s=i.__preactattr_,c=t.children;if(null==s){s=i.__preactattr_={};for(var p=i.attributes,f=p.length;f--;)s[p[f].name]=p[f].value}return!N&&c&&1===c.length&&"string"==typeof c[0]&&null!=u&&void 0!==u.splitText&&null==u.nextSibling?u.nodeValue!=c[0]&&(u.nodeValue=c[0]):(c&&c.length||null!=u)&&function(e,t,n,o,r){var i,a,l,u,s,c=e.childNodes,p=[],f={},d=0,_=0,m=c.length,y=0,b=t?t.length:0;if(0!==m)for(var g=0;g<m;g++){var x=c[g],C=x.__preactattr_,N=b&&C?x._component?x._component.__key:C.key:null;null!=N?(d++,f[N]=x):(C||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(p[y++]=x)}if(0!==b)for(var g=0;g<b;g++){u=t[g],s=null;var N=u.key;if(null!=N)d&&void 0!==f[N]&&(s=f[N],f[N]=void 0,d--);else if(_<y)for(i=_;i<y;i++)if(void 0!==p[i]&&v(a=p[i],u,r)){s=a,p[i]=void 0,i===y-1&&y--,i===_&&_++;break}s=k(s,u,n,o),l=c[g],s&&s!==e&&s!==l&&(null==l?e.appendChild(s):s===l.nextSibling?h(l):e.insertBefore(s,l))}if(d)for(var g in f)void 0!==f[g]&&P(f[g],!1);for(;_<=y;)void 0!==(s=p[y--])&&P(s,!1)}(i,c,n,o,N||null!=s.dangerouslySetInnerHTML),function(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||y(e,o,n[o],n[o]=void 0,C);for(o in t)"children"===o||"innerHTML"===o||o in n&&t[o]===("value"===o||"checked"===o?e[o]:n[o])||y(e,o,n[o],n[o]=t[o],C)}(i,t.attributes,s),C=a,i}function P(e,t){var n=e._component;n?O(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||h(e),U(e))}function U(e){for(e=e.lastChild;e;){var t=e.previousSibling;P(e,!0),e=t}}var M=[];function T(e,t,n){var o,r=M.length;for(e.prototype&&e.prototype.render?(o=new e(t,n),D.call(o,t,n)):((o=new D(t,n)).constructor=e,o.render=B);r--;)if(M[r].constructor===e)return o.nextBase=M[r].nextBase,M.splice(r,1),o;return o}function B(e,t,n){return this.constructor(e,n)}function j(e,t,n,o,i){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o)),o&&o!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=o),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===r.syncComponentUpdates&&e.base?f(e):L(e,1,i)),e.__ref&&e.__ref(e))}function L(e,t,n,o){if(!e._disable){var i,a,l,s=e.props,c=e.state,p=e.context,f=e.prevProps||s,d=e.prevState||c,v=e.prevContext||p,_=e.base,h=e.nextBase,y=_||h,b=e._component,C=!1,N=v;if(e.constructor.getDerivedStateFromProps&&(c=u(u({},c),e.constructor.getDerivedStateFromProps(s,c)),e.state=c),_&&(e.props=f,e.state=d,e.context=v,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,c,p)?C=!0:e.componentWillUpdate&&e.componentWillUpdate(s,c,p),e.props=s,e.state=c,e.context=p),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!C){i=e.render(s,c,p),e.getChildContext&&(p=u(u({},p),e.getChildContext())),_&&e.getSnapshotBeforeUpdate&&(N=e.getSnapshotBeforeUpdate(f,d));var k,U,M=i&&i.nodeName;if("function"==typeof M){var B=m(i);(a=b)&&a.constructor===M&&B.key==a.__key?j(a,B,1,p,!1):(k=a,e._component=a=T(M,B,p),a.nextBase=a.nextBase||h,a._parentComponent=e,j(a,B,0,p,!1),L(a,1,n,!0)),U=a.base}else l=y,(k=b)&&(l=e._component=null),(y||1===t)&&(l&&(l._component=null),U=S(l,i,p,n||!_,y&&y.parentNode,!0));if(y&&U!==y&&a!==b){var D=y.parentNode;D&&U!==D&&(D.replaceChild(U,y),k||(y._component=null,P(y,!1)))}if(k&&O(k),e.base=U,U&&!o){for(var W=e,A=e;A=A._parentComponent;)(W=A).base=U;U._component=W,U._componentConstructor=W.constructor}}for(!_||n?g.unshift(e):C||(e.componentDidUpdate&&e.componentDidUpdate(f,d,N),r.afterUpdate&&r.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);x||o||w()}}function O(e){r.beforeUnmount&&r.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?O(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,h(t),M.push(e),U(t)),e.__ref&&e.__ref(null)}function D(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function W(e,t,n){return S(n,e,{},!1,t,!1)}u(D.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=u(u({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),f(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),L(this,2)},render:function(){}});var A=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function l(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}u((o=o.apply(e,t||[])).next())})};var E=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function l(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(a,l)}u((o=o.apply(e,t||[])).next())})};var V=n(0);(function(e){return E(this,void 0,void 0,function*(){return(yield function(e,t){return A(this,void 0,void 0,function*(){return yield(yield fetch("/graphql",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:e,variables:t})})).json()})}("\n    query getBook($id: ID!) {\n        book(id: $id) {\n            id\n            alternate_series\n            authors\n            chapter\n            community_rating\n            created_at\n            current_page\n            date_released\n            file\n            genres\n            last_page_read\n            pages {\n                file_number\n                type\n                url\n            }\n            rating\n            read\n            reading_direction\n            series\n            story_arc\n            summary\n            title\n            type\n            updated_at\n            volume\n            web\n        }\n    }      \n    ",{id:e})).data.book})})("cb58f0e6-353d-43c1-9862-59fe43a572ce").then(e=>console.log(e)),console.log(V.test),W(l("div",{class:V.test},"test"),document.getElementById("app"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy9ob21lLnNjc3M/ZmNkYyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJlYWN0L2Rpc3QvcHJlYWN0Lm1qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvbW9kZWxzL2Jvb2sudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2dyYXBocWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2luZGV4LnRzeCJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInRlc3QiLCJWTm9kZSIsIm9wdGlvbnMiLCJzdGFjayIsIkVNUFRZX0NISUxEUkVOIiwiaCIsIm5vZGVOYW1lIiwiYXR0cmlidXRlcyIsImxhc3RTaW1wbGUiLCJjaGlsZCIsInNpbXBsZSIsImNoaWxkcmVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicHVzaCIsInBvcCIsInVuZGVmaW5lZCIsIlN0cmluZyIsInZub2RlIiwiZXh0ZW5kIiwib2JqIiwicHJvcHMiLCJkZWZlciIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsInNldFRpbWVvdXQiLCJJU19OT05fRElNRU5TSU9OQUwiLCJpdGVtcyIsImVucXVldWVSZW5kZXIiLCJjb21wb25lbnQiLCJfZGlydHkiLCJkZWJvdW5jZVJlbmRlcmluZyIsInJlcmVuZGVyIiwibGlzdCIsInJlbmRlckNvbXBvbmVudCIsImlzU2FtZU5vZGVUeXBlIiwibm9kZSIsImh5ZHJhdGluZyIsInNwbGl0VGV4dCIsIl9jb21wb25lbnRDb25zdHJ1Y3RvciIsImlzTmFtZWROb2RlIiwibm9ybWFsaXplZE5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJnZXROb2RlUHJvcHMiLCJkZWZhdWx0UHJvcHMiLCJyZW1vdmVOb2RlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwic2V0QWNjZXNzb3IiLCJvbGQiLCJpc1N2ZyIsInN0eWxlIiwiY3NzVGV4dCIsImlubmVySFRNTCIsIl9faHRtbCIsInVzZUNhcHR1cmUiLCJyZXBsYWNlIiwic3Vic3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50UHJveHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2xpc3RlbmVycyIsImUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsInNldEF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlIiwiY2xhc3NOYW1lIiwidGhpcyIsInR5cGUiLCJldmVudCIsIm1vdW50cyIsImRpZmZMZXZlbCIsImlzU3ZnTW9kZSIsImZsdXNoTW91bnRzIiwiYWZ0ZXJNb3VudCIsImNvbXBvbmVudERpZE1vdW50IiwiZGlmZiIsImRvbSIsImNvbnRleHQiLCJtb3VudEFsbCIsInBhcmVudCIsImNvbXBvbmVudFJvb3QiLCJvd25lclNWR0VsZW1lbnQiLCJyZXQiLCJpZGlmZiIsImFwcGVuZENoaWxkIiwib3V0IiwicHJldlN2Z01vZGUiLCJfY29tcG9uZW50Iiwibm9kZVZhbHVlIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsInJlcGxhY2VDaGlsZCIsInJlY29sbGVjdE5vZGVUcmVlIiwidm5vZGVOYW1lIiwib3JpZ2luYWxDb21wb25lbnQiLCJvbGREb20iLCJpc0RpcmVjdE93bmVyIiwiaXNPd25lciIsIl9wYXJlbnRDb21wb25lbnQiLCJjb25zdHJ1Y3RvciIsInNldENvbXBvbmVudFByb3BzIiwiYmFzZSIsInVubW91bnRDb21wb25lbnQiLCJjcmVhdGVDb21wb25lbnQiLCJuZXh0QmFzZSIsImJ1aWxkQ29tcG9uZW50RnJvbVZOb2RlIiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZU5vZGUiLCJmaXJzdENoaWxkIiwiZmMiLCJ2Y2hpbGRyZW4iLCJhIiwibmV4dFNpYmxpbmciLCJpc0h5ZHJhdGluZyIsImoiLCJmIiwidmNoaWxkIiwib3JpZ2luYWxDaGlsZHJlbiIsImNoaWxkTm9kZXMiLCJrZXllZCIsImtleWVkTGVuIiwibWluIiwibGVuIiwiY2hpbGRyZW5MZW4iLCJ2bGVuIiwiX2NoaWxkIiwiX19rZXkiLCJ0cmltIiwiaW5zZXJ0QmVmb3JlIiwiaW5uZXJEaWZmTm9kZSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiYXR0cnMiLCJkaWZmQXR0cmlidXRlcyIsInVubW91bnRPbmx5IiwicmVmIiwicmVtb3ZlQ2hpbGRyZW4iLCJsYXN0Q2hpbGQiLCJuZXh0IiwicHJldmlvdXNTaWJsaW5nIiwicmVjeWNsZXJDb21wb25lbnRzIiwiQ3RvciIsImluc3QiLCJyZW5kZXIiLCJDb21wb25lbnQiLCJkb1JlbmRlciIsInNwbGljZSIsInN0YXRlIiwicmVuZGVyTW9kZSIsIl9kaXNhYmxlIiwiX19yZWYiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwicHJldkNvbnRleHQiLCJwcmV2UHJvcHMiLCJzeW5jQ29tcG9uZW50VXBkYXRlcyIsImlzQ2hpbGQiLCJyZW5kZXJlZCIsImNiYXNlIiwicHJldmlvdXNQcm9wcyIsInByZXZpb3VzU3RhdGUiLCJwcmV2U3RhdGUiLCJwcmV2aW91c0NvbnRleHQiLCJpc1VwZGF0ZSIsImluaXRpYWxCYXNlIiwiaW5pdGlhbENoaWxkQ29tcG9uZW50Iiwic2tpcCIsInNuYXBzaG90Iiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImdldENoaWxkQ29udGV4dCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwidG9Vbm1vdW50IiwiY2hpbGRDb21wb25lbnQiLCJjaGlsZFByb3BzIiwiYmFzZVBhcmVudCIsImNvbXBvbmVudFJlZiIsInVuc2hpZnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJhZnRlclVwZGF0ZSIsIl9yZW5kZXJDYWxsYmFja3MiLCJiZWZvcmVVbm1vdW50IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpbm5lciIsIm1lcmdlIiwic2V0U3RhdGUiLCJjYWxsYmFjayIsImZvcmNlVXBkYXRlIiwiaWQiLCJxdWVyeSIsInZhcmlhYmxlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkNvbnRlbnQtVHlwZSIsIkFjY2VwdCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwianNvbiIsIkV4ZWMiLCJkYXRhIiwiYm9vayIsIkZpbmQiLCJjb25zb2xlIiwibG9nIiwiaG9tZSIsImNsYXNzIiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsYUFBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9BQUFDLGVBQUFVLEVBQUEsV0FBeUNULFlBQUEsRUFBQUssVUFDekMsRUFBQUUsR0FBQSxpQkFBQUYsRUFBQSxRQUFBTSxLQUFBTixFQUFBckIsRUFBQVUsRUFBQWUsRUFBQUUsRUFBQSxTQUFBQSxHQUFnSCxPQUFBTixFQUFBTSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBekIsRUFBQTZCLEVBQUEsU0FBQTFCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQXFCLFdBQ0EsV0FBMkIsT0FBQXJCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFpQixFQUFBQyxHQUFzRCxPQUFBakIsT0FBQWtCLFVBQUFDLGVBQUExQixLQUFBdUIsRUFBQUMsSUFHdEQvQixFQUFBa0MsRUFBQSxHQUlBbEMsSUFBQW1DLEVBQUEscUJDakZBaEMsRUFBQUQsU0FBa0JrQyxLQUFBLGlFQ0RsQixJQUFBQyxFQUFBLGFBRUFDLEtBRUFDLEtBRUFDLEtBRUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQUNBQyxFQUNBQyxFQUNBQyxFQUNBMUMsRUFKQTJDLEVBQUFQLEVBS0EsSUFBQXBDLEVBQUE0QyxVQUFBQyxPQUEyQjdDLEtBQUEsR0FDM0JtQyxFQUFBVyxLQUFBRixVQUFBNUMsSUFNQSxJQUpBdUMsR0FBQSxNQUFBQSxFQUFBSSxXQUNBUixFQUFBVSxRQUFBVixFQUFBVyxLQUFBUCxFQUFBSSxpQkFDQUosRUFBQUksVUFFQVIsRUFBQVUsUUFDQSxJQUFBSixFQUFBTixFQUFBWSxhQUFBQyxJQUFBUCxFQUFBTSxJQUNBLElBQUEvQyxFQUFBeUMsRUFBQUksT0FBeUI3QyxLQUN6Qm1DLEVBQUFXLEtBQUFMLEVBQUF6QyxRQUdBLGtCQUFBeUMsTUFBQSxPQUVBQyxFQUFBLG1CQUFBSixLQUNBLE1BQUFHLElBQUEsR0FBa0MsaUJBQUFBLElBQUFRLE9BQUFSLEdBQTBELGlCQUFBQSxJQUFBQyxHQUFBLElBRzVGQSxHQUFBRixFQUNBRyxJQUFBRSxPQUFBLElBQUFKLEVBQ0lFLElBQUFQLEVBQ0pPLEdBQUFGLEdBRUFFLEVBQUFHLEtBQUFMLEdBR0FELEVBQUFFLEVBSUEsSUFBQVosRUFBQSxJQUFBRyxFQVFBLE9BUEFILEVBQUFRLFdBQ0FSLEVBQUFhLFdBQ0FiLEVBQUFTLFdBQUEsTUFBQUEsT0FBQVMsRUFBQVQsRUFDQVQsRUFBQVAsSUFBQSxNQUFBZ0IsT0FBQVMsRUFBQVQsRUFBQWhCLFNBRUF5QixJQUFBZCxFQUFBZ0IsT0FBQWhCLEVBQUFnQixNQUFBcEIsR0FFQUEsRUFHQSxTQUFBcUIsRUFBQUMsRUFBQUMsR0FDQSxRQUFBckQsS0FBQXFELEVBQ0FELEVBQUFwRCxHQUFBcUQsRUFBQXJELEdBQ0csT0FBQW9ELEVBR0gsSUFBQUUsRUFBQSxtQkFBQUMsZ0JBQUFDLFVBQUFDLEtBQUFqQyxLQUFBK0IsUUFBQUMsV0FBQUUsV0FNQSxJQUFBQyxFQUFBLHlEQUVBQyxLQUVBLFNBQUFDLEVBQUFDLElBQ0FBLEVBQUFDLFNBQUFELEVBQUFDLFFBQUEsT0FBQUgsRUFBQWQsS0FBQWdCLEtBQ0E1QixFQUFBOEIsbUJBQUFWLEdBQUFXLEdBSUEsU0FBQUEsSUFDQSxJQUFBbkMsRUFDQW9DLEVBQUFOLEVBRUEsSUFEQUEsS0FDQTlCLEVBQUFvQyxFQUFBbkIsT0FDQWpCLEVBQUFpQyxRQUFBSSxFQUFBckMsR0FJQSxTQUFBc0MsRUFBQUMsRUFBQW5CLEVBQUFvQixHQUNBLHVCQUFBcEIsR0FBQSxpQkFBQUEsT0FDQUYsSUFBQXFCLEVBQUFFLFVBRUEsaUJBQUFyQixFQUFBWixVQUNBK0IsRUFBQUcsdUJBQUFDLEVBQUFKLEVBQUFuQixFQUFBWixVQUVBZ0MsR0FBQUQsRUFBQUcsd0JBQUF0QixFQUFBWixTQUdBLFNBQUFtQyxFQUFBSixFQUFBL0IsR0FDQSxPQUFBK0IsRUFBQUsscUJBQUFwQyxHQUFBK0IsRUFBQS9CLFNBQUFxQyxnQkFBQXJDLEVBQUFxQyxjQUdBLFNBQUFDLEVBQUExQixHQUNBLElBQUFHLEVBQUFGLEtBQXNCRCxFQUFBWCxZQUN0QmMsRUFBQVYsU0FBQU8sRUFBQVAsU0FFQSxJQUFBa0MsRUFBQTNCLEVBQUFaLFNBQUF1QyxhQUNBLFFBQUE3QixJQUFBNkIsRUFDQSxRQUFBN0UsS0FBQTZFLE9BQ0E3QixJQUFBSyxFQUFBckQsS0FDQXFELEVBQUFyRCxHQUFBNkUsRUFBQTdFLElBS0EsT0FBQXFELEVBU0EsU0FBQXlCLEVBQUFULEdBQ0EsSUFBQVUsRUFBQVYsRUFBQVUsV0FDQUEsS0FBQUMsWUFBQVgsR0FHQSxTQUFBWSxFQUFBWixFQUFBOUQsRUFBQTJFLEVBQUFqRSxFQUFBa0UsR0FHQSxHQUZBLGNBQUE1RSxNQUFBLFNBRUEsUUFBQUEsUUFBdUIsV0FBQUEsRUFDdkIyRSxLQUFBLE1BQ0FqRSxLQUFBb0QsUUFDRSxhQUFBOUQsR0FBQTRFLEVBRUEsYUFBQTVFLEdBSUYsR0FIQVUsR0FBQSxpQkFBQUEsR0FBQSxpQkFBQWlFLElBQ0FiLEVBQUFlLE1BQUFDLFFBQUFwRSxHQUFBLElBRUFBLEdBQUEsaUJBQUFBLEVBQUEsQ0FDQSxvQkFBQWlFLEVBQ0EsUUFBQWxGLEtBQUFrRixFQUNBbEYsS0FBQWlCLElBQUFvRCxFQUFBZSxNQUFBcEYsR0FBQSxJQUdBLFFBQUFBLEtBQUFpQixFQUNBb0QsRUFBQWUsTUFBQXBGLEdBQUEsaUJBQUFpQixFQUFBakIsS0FBQSxJQUFBMkQsRUFBQTNCLEtBQUFoQyxHQUFBaUIsRUFBQWpCLEdBQUEsS0FBQWlCLEVBQUFqQixTQUdFLCtCQUFBTyxFQUNGVSxJQUFBb0QsRUFBQWlCLFVBQUFyRSxFQUFBc0UsUUFBQSxTQUNFLFFBQUFoRixFQUFBLFNBQUFBLEVBQUEsSUFDRixJQUFBaUYsRUFBQWpGLFNBQUFrRixRQUFBLGdCQUNBbEYsSUFBQW9FLGNBQUFlLFVBQUEsR0FDQXpFLEVBQ0FpRSxHQUFBYixFQUFBc0IsaUJBQUFwRixFQUFBcUYsRUFBQUosR0FFQW5CLEVBQUF3QixvQkFBQXRGLEVBQUFxRixFQUFBSixJQUVBbkIsRUFBQXlCLGFBQUF6QixFQUFBeUIsZ0JBQTJDdkYsR0FBQVUsT0FDekMsWUFBQVYsR0FBQSxTQUFBQSxJQUFBNEUsR0FBQTVFLEtBQUE4RCxFQUFBLENBQ0YsSUFDQUEsRUFBQTlELEdBQUEsTUFBQVUsRUFBQSxHQUFBQSxFQUNHLE1BQUE4RSxJQUNILE1BQUE5RSxJQUFBLElBQUFBLEdBQUEsY0FBQVYsR0FBQThELEVBQUEyQixnQkFBQXpGLE9BQ0UsQ0FDRixJQUFBYyxFQUFBOEQsR0FBQTVFLFNBQUFrRixRQUFBLGdCQUVBLE1BQUF4RSxJQUFBLElBQUFBLEVBQ0FJLEVBQUFnRCxFQUFBNEIsa0JBQUEsK0JBQUExRixFQUFBb0UsZUFBc0ZOLEVBQUEyQixnQkFBQXpGLEdBQ25GLG1CQUFBVSxJQUNISSxFQUFBZ0QsRUFBQTZCLGVBQUEsK0JBQUEzRixFQUFBb0UsY0FBQTFELEdBQTBGb0QsRUFBQThCLGFBQUE1RixFQUFBVSxTQXJDMUZvRCxFQUFBK0IsVUFBQW5GLEdBQUEsR0EwQ0EsU0FBQTJFLEVBQUFHLEdBQ0EsT0FBQU0sS0FBQVAsV0FBQUMsRUFBQU8sTUFBQXBFLEVBQUFxRSxPQUFBckUsRUFBQXFFLE1BQUFSLE9BR0EsSUFBQVMsS0FFQUMsRUFBQSxFQUVBQyxHQUFBLEVBRUFwQyxHQUFBLEVBRUEsU0FBQXFDLElBRUEsSUFEQSxJQUFBdEcsRUFDQUEsRUFBQW1HLEVBQUF6RCxPQUNBYixFQUFBMEUsWUFBQTFFLEVBQUEwRSxXQUFBdkcsR0FDQUEsRUFBQXdHLG1CQUFBeEcsRUFBQXdHLG9CQUlBLFNBQUFDLEVBQUFDLEVBQUE3RCxFQUFBOEQsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQVYsTUFDQUMsRUFBQSxNQUFBUSxRQUFBbEUsSUFBQWtFLEVBQUFFLGdCQUVBOUMsRUFBQSxNQUFBeUMsS0FBQSxrQkFBQUEsSUFHQSxJQUFBTSxFQUFBQyxFQUFBUCxFQUFBN0QsRUFBQThELEVBQUFDLEVBQUFFLEdBVUEsT0FSQUQsR0FBQUcsRUFBQXRDLGFBQUFtQyxLQUFBSyxZQUFBRixLQUVBWixJQUNBbkMsR0FBQSxFQUVBNkMsR0FBQVIsS0FHQVUsRUFHQSxTQUFBQyxFQUFBUCxFQUFBN0QsRUFBQThELEVBQUFDLEVBQUFFLEdBQ0EsSUFBQUssRUFBQVQsRUFDQVUsRUFBQWYsRUFJQSxHQUZBLE1BQUF4RCxHQUFBLGtCQUFBQSxNQUFBLElBRUEsaUJBQUFBLEdBQUEsaUJBQUFBLEVBZUEsT0FkQTZELFFBQUEvRCxJQUFBK0QsRUFBQXhDLFdBQUF3QyxFQUFBaEMsY0FBQWdDLEVBQUFXLFlBQUFQLEdBQ0FKLEVBQUFZLFdBQUF6RSxJQUNBNkQsRUFBQVksVUFBQXpFLElBR0FzRSxFQUFBSSxTQUFBQyxlQUFBM0UsR0FDQTZELElBQ0FBLEVBQUFoQyxZQUFBZ0MsRUFBQWhDLFdBQUErQyxhQUFBTixFQUFBVCxHQUNBZ0IsRUFBQWhCLEdBQUEsS0FJQVMsRUFBQSxpQkFFQUEsRUFHQSxJQUFBUSxFQUFBOUUsRUFBQVosU0FDQSxzQkFBQTBGLEVBQ0EsT0EyV0EsU0FBQWpCLEVBQUE3RCxFQUFBOEQsRUFBQUMsR0FDQSxJQUFBNUcsRUFBQTBHLEtBQUFXLFdBQ0FPLEVBQUE1SCxFQUNBNkgsRUFBQW5CLEVBQ0FvQixFQUFBOUgsR0FBQTBHLEVBQUF2Qyx3QkFBQXRCLEVBQUFaLFNBQ0E4RixFQUFBRCxFQUNBOUUsRUFBQXVCLEVBQUExQixHQUNBLEtBQUE3QyxJQUFBK0gsSUFBQS9ILElBQUFnSSxtQkFDQUQsRUFBQS9ILEVBQUFpSSxjQUFBcEYsRUFBQVosU0FHQWpDLEdBQUErSCxLQUFBbkIsR0FBQTVHLEVBQUFxSCxhQUNBYSxFQUFBbEksRUFBQWdELEVBQUEsRUFBQTJELEVBQUFDLEdBQ0FGLEVBQUExRyxFQUFBbUksT0FFQVAsSUFBQUUsSUFDQU0sRUFBQVIsR0FDQWxCLEVBQUFtQixFQUFBLE1BR0E3SCxFQUFBcUksRUFBQXhGLEVBQUFaLFNBQUFlLEVBQUEyRCxHQUNBRCxJQUFBMUcsRUFBQXNJLFdBQ0F0SSxFQUFBc0ksU0FBQTVCLEVBRUFtQixFQUFBLE1BRUFLLEVBQUFsSSxFQUFBZ0QsRUFBQSxFQUFBMkQsRUFBQUMsR0FDQUYsRUFBQTFHLEVBQUFtSSxLQUVBTixHQUFBbkIsSUFBQW1CLElBQ0FBLEVBQUFSLFdBQUEsS0FDQUssRUFBQUcsR0FBQSxLQUlBLE9BQUFuQixFQTlZQTZCLENBQUE3QixFQUFBN0QsRUFBQThELEVBQUFDLEdBTUEsR0FIQVAsRUFBQSxRQUFBc0IsR0FBQSxrQkFBQUEsR0FBQXRCLEVBRUFzQixFQUFBL0UsT0FBQStFLEtBQ0FqQixJQUFBdEMsRUFBQXNDLEVBQUFpQixNQUNBUixFQXJJQSxTQUFBbEYsRUFBQTZDLEdBQ0EsSUFBQWQsRUFBQWMsRUFBQXlDLFNBQUFpQixnQkFBQSw2QkFBQXZHLEdBQUFzRixTQUFBa0IsY0FBQXhHLEdBRUEsT0FEQStCLEVBQUFLLG1CQUFBcEMsRUFDQStCLEVBa0lBMEUsQ0FBQWYsRUFBQXRCLEdBRUFLLEdBQUEsQ0FDQSxLQUFBQSxFQUFBaUMsWUFDQXhCLEVBQUFELFlBQUFSLEVBQUFpQyxZQUVBakMsRUFBQWhDLFlBQUFnQyxFQUFBaEMsV0FBQStDLGFBQUFOLEVBQUFULEdBRUFnQixFQUFBaEIsR0FBQSxHQUlBLElBQUFrQyxFQUFBekIsRUFBQXdCLFdBQ0EzRixFQUFBbUUsRUFBQSxjQUNBMEIsRUFBQWhHLEVBQUFQLFNBRUEsU0FBQVUsRUFBQSxDQUNBQSxFQUFBbUUsRUFBQSxpQkFDQSxRQUFBMkIsRUFBQTNCLEVBQUFqRixXQUFBdkMsRUFBQW1KLEVBQUF0RyxPQUE0QzdDLEtBQzVDcUQsRUFBQThGLEVBQUFuSixHQUFBTyxNQUFBNEksRUFBQW5KLEdBQUFpQixNQWdCQSxPQVpBcUQsR0FBQTRFLEdBQUEsSUFBQUEsRUFBQXJHLFFBQUEsaUJBQUFxRyxFQUFBLFVBQUFELFFBQUFqRyxJQUFBaUcsRUFBQTFFLFdBQUEsTUFBQTBFLEVBQUFHLFlBQ0FILEVBQUF0QixXQUFBdUIsRUFBQSxLQUNBRCxFQUFBdEIsVUFBQXVCLEVBQUEsS0FFRUEsS0FBQXJHLFFBQUEsTUFBQW9HLElBV0YsU0FBQWxDLEVBQUFtQyxFQUFBbEMsRUFBQUMsRUFBQW9DLEdBQ0EsSUFRQUMsRUFDQWpKLEVBQ0FrSixFQUNBQyxFQUNBL0csRUFaQWdILEVBQUExQyxFQUFBMkMsV0FDQS9HLEtBQ0FnSCxLQUNBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQUMsRUFBQUwsRUFBQTVHLE9BQ0FrSCxFQUFBLEVBQ0FDLEVBQUFkLElBQUFyRyxPQUFBLEVBT0EsT0FBQWlILEVBQ0EsUUFBQTlKLEVBQUEsRUFBaUJBLEVBQUE4SixFQUFTOUosSUFBQSxDQUMxQixJQUFBaUssRUFBQVIsRUFBQXpKLEdBQ0FxRCxFQUFBNEcsRUFBQSxjQUNBMUksRUFBQXlJLEdBQUEzRyxFQUFBNEcsRUFBQXZDLFdBQUF1QyxFQUFBdkMsV0FBQXdDLE1BQUE3RyxFQUFBOUIsSUFBQSxLQUNBLE1BQUFBLEdBQ0FxSSxJQUNBRCxFQUFBcEksR0FBQTBJLElBQ0k1RyxTQUFBTCxJQUFBaUgsRUFBQTFGLFdBQUE4RSxHQUFBWSxFQUFBdEMsVUFBQXdDLE9BQUFkLE1BQ0oxRyxFQUFBb0gsS0FBQUUsR0FLQSxPQUFBRCxFQUNBLFFBQUFoSyxFQUFBLEVBQWlCQSxFQUFBZ0ssRUFBVWhLLElBQUEsQ0FDM0J3SixFQUFBTixFQUFBbEosR0FDQXlDLEVBQUEsS0FFQSxJQUFBbEIsRUFBQWlJLEVBQUFqSSxJQUNBLFNBQUFBLEVBQ0FxSSxRQUFBNUcsSUFBQTJHLEVBQUFwSSxLQUNBa0IsRUFBQWtILEVBQUFwSSxHQUNBb0ksRUFBQXBJLFFBQUF5QixFQUNBNEcsVUFFSSxHQUFBQyxFQUFBRSxFQUNKLElBQUFULEVBQUFPLEVBQWtCUCxFQUFBUyxFQUFpQlQsSUFDbkMsUUFBQXRHLElBQUFMLEVBQUEyRyxJQUFBbEYsRUFBQS9ELEVBQUFzQyxFQUFBMkcsR0FBQUUsRUFBQUgsR0FBQSxDQUNBNUcsRUFBQXBDLEVBQ0FzQyxFQUFBMkcsUUFBQXRHLEVBQ0FzRyxJQUFBUyxFQUFBLEdBQUFBLElBQ0FULElBQUFPLE9BQ0EsTUFLQXBILEVBQUE2RSxFQUFBN0UsRUFBQStHLEVBQUF4QyxFQUFBQyxHQUVBc0MsRUFBQUUsRUFBQXpKLEdBQ0F5QyxPQUFBc0UsR0FBQXRFLElBQUE4RyxJQUNBLE1BQUFBLEVBQ0F4QyxFQUFBUSxZQUFBOUUsR0FDS0EsSUFBQThHLEVBQUFILFlBQ0x0RSxFQUFBeUUsR0FFQXhDLEVBQUFxRCxhQUFBM0gsRUFBQThHLElBTUEsR0FBQUssRUFDQSxRQUFBNUosS0FBQTJKLE9BQ0EzRyxJQUFBMkcsRUFBQTNKLElBQUErSCxFQUFBNEIsRUFBQTNKLElBQUEsR0FJQSxLQUFBNkosR0FBQUUsUUFDQS9HLEtBQUFQLEVBQUFFLEVBQUFvSCxPQUFBaEMsRUFBQXRGLEdBQUEsR0FyRkE0SCxDQUFBN0MsRUFBQTBCLEVBQUFsQyxFQUFBQyxFQUFBM0MsR0FBQSxNQUFBakIsRUFBQWlILHlCQWlIQSxTQUFBdkQsRUFBQXdELEVBQUFyRixHQUNBLElBQUEzRSxFQUVBLElBQUFBLEtBQUEyRSxFQUNBcUYsR0FBQSxNQUFBQSxFQUFBaEssSUFBQSxNQUFBMkUsRUFBQTNFLElBQ0EwRSxFQUFBOEIsRUFBQXhHLEVBQUEyRSxFQUFBM0UsR0FBQTJFLEVBQUEzRSxRQUFBeUMsRUFBQTBELEdBSUEsSUFBQW5HLEtBQUFnSyxFQUNBLGFBQUFoSyxHQUFBLGNBQUFBLFFBQUEyRSxHQUFBcUYsRUFBQWhLLE1BQUEsVUFBQUEsR0FBQSxZQUFBQSxFQUFBd0csRUFBQXhHLEdBQUEyRSxFQUFBM0UsS0FDQTBFLEVBQUE4QixFQUFBeEcsRUFBQTJFLEVBQUEzRSxHQUFBMkUsRUFBQTNFLEdBQUFnSyxFQUFBaEssR0FBQW1HLEdBekhBOEQsQ0FBQWhELEVBQUF0RSxFQUFBWCxXQUFBYyxHQUVBcUQsRUFBQWUsRUFFQUQsRUFrRkEsU0FBQU8sRUFBQTFELEVBQUFvRyxHQUNBLElBQUEzRyxFQUFBTyxFQUFBcUQsV0FDQTVELEVBQ0EyRSxFQUFBM0UsSUFFQSxNQUFBTyxFQUFBLGVBQUFBLEVBQUEsY0FBQXFHLEtBQUFyRyxFQUFBLGNBQUFxRyxJQUFBLE9BRUEsSUFBQUQsR0FBQSxNQUFBcEcsRUFBQSxlQUNBUyxFQUFBVCxHQUdBc0csRUFBQXRHLElBSUEsU0FBQXNHLEVBQUF0RyxHQUVBLElBREFBLElBQUF1RyxVQUNBdkcsR0FBQSxDQUNBLElBQUF3RyxFQUFBeEcsRUFBQXlHLGdCQUNBL0MsRUFBQTFELEdBQUEsR0FDQUEsRUFBQXdHLEdBb0JBLElBQUFFLEtBRUEsU0FBQXJDLEVBQUFzQyxFQUFBM0gsRUFBQTJELEdBQ0EsSUFBQWlFLEVBQ0FqTCxFQUFBK0ssRUFBQWxJLE9BV0EsSUFUQW1JLEVBQUFwSixXQUFBb0osRUFBQXBKLFVBQUFzSixRQUNBRCxFQUFBLElBQUFELEVBQUEzSCxFQUFBMkQsR0FDQW1FLEVBQUFoTCxLQUFBOEssRUFBQTVILEVBQUEyRCxNQUVBaUUsRUFBQSxJQUFBRSxFQUFBOUgsRUFBQTJELElBQ0FzQixZQUFBMEMsRUFDQUMsRUFBQUMsT0FBQUUsR0FHQXBMLEtBQ0EsR0FBQStLLEVBQUEvSyxHQUFBc0ksY0FBQTBDLEVBR0EsT0FGQUMsRUFBQXRDLFNBQUFvQyxFQUFBL0ssR0FBQTJJLFNBQ0FvQyxFQUFBTSxPQUFBckwsRUFBQSxHQUNBaUwsRUFJQSxPQUFBQSxFQUdBLFNBQUFHLEVBQUEvSCxFQUFBaUksRUFBQXRFLEdBQ0EsT0FBQVgsS0FBQWlDLFlBQUFqRixFQUFBMkQsR0FHQSxTQUFBdUIsRUFBQXpFLEVBQUFULEVBQUFrSSxFQUFBdkUsRUFBQUMsR0FDQW5ELEVBQUEwSCxXQUNBMUgsRUFBQTBILFVBQUEsRUFFQTFILEVBQUEySCxNQUFBcEksRUFBQXFILElBQ0E1RyxFQUFBb0csTUFBQTdHLEVBQUE5QixXQUNBOEIsRUFBQXFILFdBQ0FySCxFQUFBOUIsU0FFQSxJQUFBdUMsRUFBQXdFLFlBQUFvRCw0QkFDQTVILEVBQUEwRSxNQUFBdkIsRUFDQW5ELEVBQUE2SCxvQkFBQTdILEVBQUE2SCxxQkFDRzdILEVBQUE4SCwyQkFDSDlILEVBQUE4SCwwQkFBQXZJLEVBQUEyRCxJQUlBQSxPQUFBbEQsRUFBQWtELFVBQ0FsRCxFQUFBK0gsY0FBQS9ILEVBQUErSCxZQUFBL0gsRUFBQWtELFNBQ0FsRCxFQUFBa0QsV0FHQWxELEVBQUFnSSxZQUFBaEksRUFBQWdJLFVBQUFoSSxFQUFBVCxPQUNBUyxFQUFBVCxRQUVBUyxFQUFBMEgsVUFBQSxFQUVBLElBQUFELElBQ0EsSUFBQUEsSUFBQSxJQUFBckosRUFBQTZKLHNCQUFBakksRUFBQTBFLEtBR0EzRSxFQUFBQyxHQUZBSyxFQUFBTCxFQUFBLEVBQUFtRCxJQU1BbkQsRUFBQTJILE9BQUEzSCxFQUFBMkgsTUFBQTNILElBR0EsU0FBQUssRUFBQUwsRUFBQXlILEVBQUF0RSxFQUFBK0UsR0FDQSxJQUFBbEksRUFBQTBILFNBQUEsQ0FFQSxJQVlBUyxFQUNBaEIsRUFDQWlCLEVBZEE3SSxFQUFBUyxFQUFBVCxNQUNBaUksRUFBQXhILEVBQUF3SCxNQUNBdEUsRUFBQWxELEVBQUFrRCxRQUNBbUYsRUFBQXJJLEVBQUFnSSxXQUFBekksRUFDQStJLEVBQUF0SSxFQUFBdUksV0FBQWYsRUFDQWdCLEVBQUF4SSxFQUFBK0gsYUFBQTdFLEVBQ0F1RixFQUFBekksRUFBQTBFLEtBQ0FHLEVBQUE3RSxFQUFBNkUsU0FDQTZELEVBQUFELEdBQUE1RCxFQUNBOEQsRUFBQTNJLEVBQUE0RCxXQUNBZ0YsR0FBQSxFQUNBQyxFQUFBTCxFQTJCQSxHQXRCQXhJLEVBQUF3RSxZQUFBb0QsMkJBQ0FKLEVBQUFuSSxPQUEwQm1JLEdBQUF4SCxFQUFBd0UsWUFBQW9ELHlCQUFBckksRUFBQWlJLElBQzFCeEgsRUFBQXdILFNBR0FpQixJQUNBekksRUFBQVQsTUFBQThJLEVBQ0FySSxFQUFBd0gsTUFBQWMsRUFDQXRJLEVBQUFrRCxRQUFBc0YsRUFDQSxJQUFBZixHQUFBekgsRUFBQThJLHdCQUFBLElBQUE5SSxFQUFBOEksc0JBQUF2SixFQUFBaUksRUFBQXRFLEdBQ0EwRixHQUFBLEVBQ0c1SSxFQUFBK0kscUJBQ0gvSSxFQUFBK0ksb0JBQUF4SixFQUFBaUksRUFBQXRFLEdBRUFsRCxFQUFBVCxRQUNBUyxFQUFBd0gsUUFDQXhILEVBQUFrRCxXQUdBbEQsRUFBQWdJLFVBQUFoSSxFQUFBdUksVUFBQXZJLEVBQUErSCxZQUFBL0gsRUFBQTZFLFNBQUEsS0FDQTdFLEVBQUFDLFFBQUEsR0FFQTJJLEVBQUEsQ0FDQVQsRUFBQW5JLEVBQUFvSCxPQUFBN0gsRUFBQWlJLEVBQUF0RSxHQUVBbEQsRUFBQWdKLGtCQUNBOUYsRUFBQTdELE9BQTZCNkQsR0FBQWxELEVBQUFnSixvQkFHN0JQLEdBQUF6SSxFQUFBaUosMEJBQ0FKLEVBQUE3SSxFQUFBaUosd0JBQUFaLEVBQUFDLElBR0EsSUFDQVksRUFDQXhFLEVBRkF5RSxFQUFBaEIsS0FBQTNKLFNBSUEsc0JBQUEySyxFQUFBLENBRUEsSUFBQUMsRUFBQXRJLEVBQUFxSCxJQUNBaEIsRUFBQXdCLElBRUF4QixFQUFBM0MsY0FBQTJFLEdBQUFDLEVBQUEzTCxLQUFBMEosRUFBQWYsTUFDQTNCLEVBQUEwQyxFQUFBaUMsRUFBQSxFQUFBbEcsR0FBQSxJQUVBZ0csRUFBQS9CLEVBRUFuSCxFQUFBNEQsV0FBQXVELEVBQUF2QyxFQUFBdUUsRUFBQUMsRUFBQWxHLEdBQ0FpRSxFQUFBdEMsU0FBQXNDLEVBQUF0QyxZQUNBc0MsRUFBQTVDLGlCQUFBdkUsRUFDQXlFLEVBQUEwQyxFQUFBaUMsRUFBQSxFQUFBbEcsR0FBQSxHQUNBN0MsRUFBQThHLEVBQUEsRUFBQWhFLEdBQUEsSUFHQXVCLEVBQUF5QyxFQUFBekMsVUFFQTBELEVBQUFNLEdBRUFRLEVBQUFQLEtBRUFQLEVBQUFwSSxFQUFBNEQsV0FBQSxPQUdBOEUsR0FBQSxJQUFBakIsS0FDQVcsTUFBQXhFLFdBQUEsTUFDQWMsRUFBQTFCLEVBQUFvRixFQUFBRCxFQUFBakYsRUFBQUMsSUFBQXNGLEVBQUFDLEtBQUF6SCxZQUFBLElBSUEsR0FBQXlILEdBQUFoRSxJQUFBZ0UsR0FBQXZCLElBQUF3QixFQUFBLENBQ0EsSUFBQVUsRUFBQVgsRUFBQXpILFdBQ0FvSSxHQUFBM0UsSUFBQTJFLElBQ0FBLEVBQUFyRixhQUFBVSxFQUFBZ0UsR0FFQVEsSUFDQVIsRUFBQTlFLFdBQUEsS0FDQUssRUFBQXlFLEdBQUEsS0FVQSxHQUxBUSxHQUNBdkUsRUFBQXVFLEdBR0FsSixFQUFBMEUsT0FDQUEsSUFBQXdELEVBQUEsQ0FHQSxJQUZBLElBQUFvQixFQUFBdEosRUFDQTVDLEVBQUE0QyxFQUNBNUMsSUFBQW1ILG1CQUNBK0UsRUFBQWxNLEdBQUFzSCxPQUVBQSxFQUFBZCxXQUFBMEYsRUFDQTVFLEVBQUFoRSxzQkFBQTRJLEVBQUE5RSxhQWNBLEtBVkFpRSxHQUFBdEYsRUFDQVQsRUFBQTZHLFFBQUF2SixHQUNFNEksSUFFRjVJLEVBQUF3SixvQkFDQXhKLEVBQUF3SixtQkFBQW5CLEVBQUFDLEVBQUFPLEdBRUF6SyxFQUFBcUwsYUFBQXJMLEVBQUFxTCxZQUFBekosSUFHQUEsRUFBQTBKLGlCQUFBM0ssUUFDQWlCLEVBQUEwSixpQkFBQXpLLE1BQUE1QyxLQUFBMkQsR0FDRTJDLEdBQUF1RixHQUFBckYsS0F5Q0YsU0FBQThCLEVBQUEzRSxHQUNBNUIsRUFBQXVMLGVBQUF2TCxFQUFBdUwsY0FBQTNKLEdBRUEsSUFBQTBFLEVBQUExRSxFQUFBMEUsS0FFQTFFLEVBQUEwSCxVQUFBLEVBRUExSCxFQUFBNEosc0JBQUE1SixFQUFBNEosdUJBRUE1SixFQUFBMEUsS0FBQSxLQUVBLElBQUFtRixFQUFBN0osRUFBQTRELFdBQ0FpRyxFQUNBbEYsRUFBQWtGLEdBQ0VuRixJQUNGQSxFQUFBLGVBQUFBLEVBQUEsY0FBQWtDLEtBQUFsQyxFQUFBLGNBQUFrQyxJQUFBLE1BRUE1RyxFQUFBNkUsU0FBQUgsRUFFQTFELEVBQUEwRCxHQUNBdUMsRUFBQWpJLEtBQUFnQixHQUVBNkcsRUFBQW5DLElBR0ExRSxFQUFBMkgsT0FBQTNILEVBQUEySCxNQUFBLE1BR0EsU0FBQU4sRUFBQTlILEVBQUEyRCxHQUNBWCxLQUFBdEMsUUFBQSxFQUVBc0MsS0FBQVcsVUFFQVgsS0FBQWhELFFBRUFnRCxLQUFBaUYsTUFBQWpGLEtBQUFpRixVQUVBakYsS0FBQW1ILG9CQWlCQSxTQUFBdEMsRUFBQWhJLEVBQUFnRSxFQUFBMEcsR0FDQSxPQUFBOUcsRUFBQThHLEVBQUExSyxNQUE4QixFQUFBZ0UsR0FBQSxHQWY5Qi9ELEVBQUFnSSxFQUFBdkosV0FDQWlNLFNBQUEsU0FBQXZDLEVBQUF3QyxHQUNBekgsS0FBQWdHLFlBQUFoRyxLQUFBZ0csVUFBQWhHLEtBQUFpRixPQUNBakYsS0FBQWlGLE1BQUFuSSxPQUErQmtELEtBQUFpRixPQUFBLG1CQUFBQSxJQUFBakYsS0FBQWlGLE1BQUFqRixLQUFBaEQsT0FBQWlJLEdBQy9Cd0MsR0FBQXpILEtBQUFtSCxpQkFBQTFLLEtBQUFnTCxHQUNBakssRUFBQXdDLE9BRUEwSCxZQUFBLFNBQUFELEdBQ0FBLEdBQUF6SCxLQUFBbUgsaUJBQUExSyxLQUFBZ0wsR0FDQTNKLEVBQUFrQyxLQUFBLElBRUE2RSxPQUFBLGVBT0EsOGhCQzVwQk8sU0FBb0I4QywyQ0FrQ3ZCLGFDL0RHLFNBQW9CQyxFQUFlQywyQ0FhdEMsbUJBWnFCQyxNQUFNLFlBQ3ZCQyxPQUFRLE9BQ1JDLFNBQ0lDLGVBQWdCLG1CQUNoQkMsT0FBVSxvQkFFZEMsS0FBTUMsS0FBS0MsV0FDUFQsTUFBT0EsRUFDUEMsVUFBV0EsT0FJR1MsU0RpQlJDLENBQVksa3JCQWdDckJaLEdBQUlBLEtBQ0FhLEtBQUtDLFFFaEVsQkMsQ0FBSyx3Q0FBd0N0TCxLQUFLcUwsR0FBUUUsUUFBUUMsSUFBSUgsSUFFdEVFLFFBQVFDLElBQUlDLEVBQUEsTUFFWmhFLEVBQ0k3SSxFQUFBLE9BQUs4TSxNQUFPRCxFQUFBLE1BQU0sUUFDbkJ0SCxTQUFTd0gsZUFBZSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcInRlc3RcIjpcIl8zR1otX09pdC04TW9QcllTRGo4dWxoXCJ9OyIsInZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlKCkge307XG5cbnZhciBvcHRpb25zID0ge307XG5cbnZhciBzdGFjayA9IFtdO1xuXG52YXIgRU1QVFlfQ0hJTERSRU4gPSBbXTtcblxuZnVuY3Rpb24gaChub2RlTmFtZSwgYXR0cmlidXRlcykge1xuXHR2YXIgY2hpbGRyZW4gPSBFTVBUWV9DSElMRFJFTixcblx0ICAgIGxhc3RTaW1wbGUsXG5cdCAgICBjaGlsZCxcblx0ICAgIHNpbXBsZSxcblx0ICAgIGk7XG5cdGZvciAoaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGktLSA+IDI7KSB7XG5cdFx0c3RhY2sucHVzaChhcmd1bWVudHNbaV0pO1xuXHR9XG5cdGlmIChhdHRyaWJ1dGVzICYmIGF0dHJpYnV0ZXMuY2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdGlmICghc3RhY2subGVuZ3RoKSBzdGFjay5wdXNoKGF0dHJpYnV0ZXMuY2hpbGRyZW4pO1xuXHRcdGRlbGV0ZSBhdHRyaWJ1dGVzLmNoaWxkcmVuO1xuXHR9XG5cdHdoaWxlIChzdGFjay5sZW5ndGgpIHtcblx0XHRpZiAoKGNoaWxkID0gc3RhY2sucG9wKCkpICYmIGNoaWxkLnBvcCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRmb3IgKGkgPSBjaGlsZC5sZW5ndGg7IGktLTspIHtcblx0XHRcdFx0c3RhY2sucHVzaChjaGlsZFtpXSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0eXBlb2YgY2hpbGQgPT09ICdib29sZWFuJykgY2hpbGQgPSBudWxsO1xuXG5cdFx0XHRpZiAoc2ltcGxlID0gdHlwZW9mIG5vZGVOYW1lICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGlmIChjaGlsZCA9PSBudWxsKSBjaGlsZCA9ICcnO2Vsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ251bWJlcicpIGNoaWxkID0gU3RyaW5nKGNoaWxkKTtlbHNlIGlmICh0eXBlb2YgY2hpbGQgIT09ICdzdHJpbmcnKSBzaW1wbGUgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHNpbXBsZSAmJiBsYXN0U2ltcGxlKSB7XG5cdFx0XHRcdGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdICs9IGNoaWxkO1xuXHRcdFx0fSBlbHNlIGlmIChjaGlsZHJlbiA9PT0gRU1QVFlfQ0hJTERSRU4pIHtcblx0XHRcdFx0Y2hpbGRyZW4gPSBbY2hpbGRdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cdFx0XHR9XG5cblx0XHRcdGxhc3RTaW1wbGUgPSBzaW1wbGU7XG5cdFx0fVxuXHR9XG5cblx0dmFyIHAgPSBuZXcgVk5vZGUoKTtcblx0cC5ub2RlTmFtZSA9IG5vZGVOYW1lO1xuXHRwLmNoaWxkcmVuID0gY2hpbGRyZW47XG5cdHAuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGF0dHJpYnV0ZXM7XG5cdHAua2V5ID0gYXR0cmlidXRlcyA9PSBudWxsID8gdW5kZWZpbmVkIDogYXR0cmlidXRlcy5rZXk7XG5cblx0aWYgKG9wdGlvbnMudm5vZGUgIT09IHVuZGVmaW5lZCkgb3B0aW9ucy52bm9kZShwKTtcblxuXHRyZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKG9iaiwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSBpbiBwcm9wcykge1xuICAgIG9ialtpXSA9IHByb3BzW2ldO1xuICB9cmV0dXJuIG9iajtcbn1cblxudmFyIGRlZmVyID0gdHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJyA/IFByb21pc2UucmVzb2x2ZSgpLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSkgOiBzZXRUaW1lb3V0O1xuXG5mdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzKSB7XG4gIHJldHVybiBoKHZub2RlLm5vZGVOYW1lLCBleHRlbmQoZXh0ZW5kKHt9LCB2bm9kZS5hdHRyaWJ1dGVzKSwgcHJvcHMpLCBhcmd1bWVudHMubGVuZ3RoID4gMiA/IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSA6IHZub2RlLmNoaWxkcmVuKTtcbn1cblxudmFyIElTX05PTl9ESU1FTlNJT05BTCA9IC9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8b3dzfG1uY3xudHd8aW5lW2NoXXx6b298Xm9yZC9pO1xuXG52YXIgaXRlbXMgPSBbXTtcblxuZnVuY3Rpb24gZW5xdWV1ZVJlbmRlcihjb21wb25lbnQpIHtcblx0aWYgKCFjb21wb25lbnQuX2RpcnR5ICYmIChjb21wb25lbnQuX2RpcnR5ID0gdHJ1ZSkgJiYgaXRlbXMucHVzaChjb21wb25lbnQpID09IDEpIHtcblx0XHQob3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZyB8fCBkZWZlcikocmVyZW5kZXIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlcmVuZGVyKCkge1xuXHR2YXIgcCxcblx0ICAgIGxpc3QgPSBpdGVtcztcblx0aXRlbXMgPSBbXTtcblx0d2hpbGUgKHAgPSBsaXN0LnBvcCgpKSB7XG5cdFx0aWYgKHAuX2RpcnR5KSByZW5kZXJDb21wb25lbnQocCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gaXNTYW1lTm9kZVR5cGUobm9kZSwgdm5vZGUsIGh5ZHJhdGluZykge1xuXHRpZiAodHlwZW9mIHZub2RlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygdm5vZGUgPT09ICdudW1iZXInKSB7XG5cdFx0cmV0dXJuIG5vZGUuc3BsaXRUZXh0ICE9PSB1bmRlZmluZWQ7XG5cdH1cblx0aWYgKHR5cGVvZiB2bm9kZS5ub2RlTmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gIW5vZGUuX2NvbXBvbmVudENvbnN0cnVjdG9yICYmIGlzTmFtZWROb2RlKG5vZGUsIHZub2RlLm5vZGVOYW1lKTtcblx0fVxuXHRyZXR1cm4gaHlkcmF0aW5nIHx8IG5vZGUuX2NvbXBvbmVudENvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZTtcbn1cblxuZnVuY3Rpb24gaXNOYW1lZE5vZGUobm9kZSwgbm9kZU5hbWUpIHtcblx0cmV0dXJuIG5vZGUubm9ybWFsaXplZE5vZGVOYW1lID09PSBub2RlTmFtZSB8fCBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIGdldE5vZGVQcm9wcyh2bm9kZSkge1xuXHR2YXIgcHJvcHMgPSBleHRlbmQoe30sIHZub2RlLmF0dHJpYnV0ZXMpO1xuXHRwcm9wcy5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuXG5cdHZhciBkZWZhdWx0UHJvcHMgPSB2bm9kZS5ub2RlTmFtZS5kZWZhdWx0UHJvcHM7XG5cdGlmIChkZWZhdWx0UHJvcHMgIT09IHVuZGVmaW5lZCkge1xuXHRcdGZvciAodmFyIGkgaW4gZGVmYXVsdFByb3BzKSB7XG5cdFx0XHRpZiAocHJvcHNbaV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRwcm9wc1tpXSA9IGRlZmF1bHRQcm9wc1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcHJvcHM7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vZGUobm9kZU5hbWUsIGlzU3ZnKSB7XG5cdHZhciBub2RlID0gaXNTdmcgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbm9kZU5hbWUpIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSk7XG5cdG5vZGUubm9ybWFsaXplZE5vZGVOYW1lID0gbm9kZU5hbWU7XG5cdHJldHVybiBub2RlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcblx0dmFyIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG5cdGlmIChwYXJlbnROb2RlKSBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuXG5mdW5jdGlvbiBzZXRBY2Nlc3Nvcihub2RlLCBuYW1lLCBvbGQsIHZhbHVlLCBpc1N2Zykge1xuXHRpZiAobmFtZSA9PT0gJ2NsYXNzTmFtZScpIG5hbWUgPSAnY2xhc3MnO1xuXG5cdGlmIChuYW1lID09PSAna2V5Jykge30gZWxzZSBpZiAobmFtZSA9PT0gJ3JlZicpIHtcblx0XHRpZiAob2xkKSBvbGQobnVsbCk7XG5cdFx0aWYgKHZhbHVlKSB2YWx1ZShub2RlKTtcblx0fSBlbHNlIGlmIChuYW1lID09PSAnY2xhc3MnICYmICFpc1N2Zykge1xuXHRcdG5vZGUuY2xhc3NOYW1lID0gdmFsdWUgfHwgJyc7XG5cdH0gZWxzZSBpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xuXHRcdGlmICghdmFsdWUgfHwgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb2xkID09PSAnc3RyaW5nJykge1xuXHRcdFx0bm9kZS5zdHlsZS5jc3NUZXh0ID0gdmFsdWUgfHwgJyc7XG5cdFx0fVxuXHRcdGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRpZiAodHlwZW9mIG9sZCAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Zm9yICh2YXIgaSBpbiBvbGQpIHtcblx0XHRcdFx0XHRpZiAoIShpIGluIHZhbHVlKSkgbm9kZS5zdHlsZVtpXSA9ICcnO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRmb3IgKHZhciBpIGluIHZhbHVlKSB7XG5cdFx0XHRcdG5vZGUuc3R5bGVbaV0gPSB0eXBlb2YgdmFsdWVbaV0gPT09ICdudW1iZXInICYmIElTX05PTl9ESU1FTlNJT05BTC50ZXN0KGkpID09PSBmYWxzZSA/IHZhbHVlW2ldICsgJ3B4JyA6IHZhbHVlW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmIChuYW1lID09PSAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnKSB7XG5cdFx0aWYgKHZhbHVlKSBub2RlLmlubmVySFRNTCA9IHZhbHVlLl9faHRtbCB8fCAnJztcblx0fSBlbHNlIGlmIChuYW1lWzBdID09ICdvJyAmJiBuYW1lWzFdID09ICduJykge1xuXHRcdHZhciB1c2VDYXB0dXJlID0gbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL0NhcHR1cmUkLywgJycpKTtcblx0XHRuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygyKTtcblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdGlmICghb2xkKSBub2RlLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnRQcm94eSwgdXNlQ2FwdHVyZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudFByb3h5LCB1c2VDYXB0dXJlKTtcblx0XHR9XG5cdFx0KG5vZGUuX2xpc3RlbmVycyB8fCAobm9kZS5fbGlzdGVuZXJzID0ge30pKVtuYW1lXSA9IHZhbHVlO1xuXHR9IGVsc2UgaWYgKG5hbWUgIT09ICdsaXN0JyAmJiBuYW1lICE9PSAndHlwZScgJiYgIWlzU3ZnICYmIG5hbWUgaW4gbm9kZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRub2RlW25hbWVdID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG5cdFx0fSBjYXRjaCAoZSkge31cblx0XHRpZiAoKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09IGZhbHNlKSAmJiBuYW1lICE9ICdzcGVsbGNoZWNrJykgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIG5zID0gaXNTdmcgJiYgbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL154bGluazo/LywgJycpKTtcblxuXHRcdGlmICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSkge1xuXHRcdFx0aWYgKG5zKSBub2RlLnJlbW92ZUF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgbmFtZS50b0xvd2VyQ2FzZSgpKTtlbHNlIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRpZiAobnMpIG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBuYW1lLnRvTG93ZXJDYXNlKCksIHZhbHVlKTtlbHNlIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZXZlbnRQcm94eShlKSB7XG5cdHJldHVybiB0aGlzLl9saXN0ZW5lcnNbZS50eXBlXShvcHRpb25zLmV2ZW50ICYmIG9wdGlvbnMuZXZlbnQoZSkgfHwgZSk7XG59XG5cbnZhciBtb3VudHMgPSBbXTtcblxudmFyIGRpZmZMZXZlbCA9IDA7XG5cbnZhciBpc1N2Z01vZGUgPSBmYWxzZTtcblxudmFyIGh5ZHJhdGluZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBmbHVzaE1vdW50cygpIHtcblx0dmFyIGM7XG5cdHdoaWxlIChjID0gbW91bnRzLnBvcCgpKSB7XG5cdFx0aWYgKG9wdGlvbnMuYWZ0ZXJNb3VudCkgb3B0aW9ucy5hZnRlck1vdW50KGMpO1xuXHRcdGlmIChjLmNvbXBvbmVudERpZE1vdW50KSBjLmNvbXBvbmVudERpZE1vdW50KCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCwgcGFyZW50LCBjb21wb25lbnRSb290KSB7XG5cdGlmICghZGlmZkxldmVsKyspIHtcblx0XHRpc1N2Z01vZGUgPSBwYXJlbnQgIT0gbnVsbCAmJiBwYXJlbnQub3duZXJTVkdFbGVtZW50ICE9PSB1bmRlZmluZWQ7XG5cblx0XHRoeWRyYXRpbmcgPSBkb20gIT0gbnVsbCAmJiAhKCdfX3ByZWFjdGF0dHJfJyBpbiBkb20pO1xuXHR9XG5cblx0dmFyIHJldCA9IGlkaWZmKGRvbSwgdm5vZGUsIGNvbnRleHQsIG1vdW50QWxsLCBjb21wb25lbnRSb290KTtcblxuXHRpZiAocGFyZW50ICYmIHJldC5wYXJlbnROb2RlICE9PSBwYXJlbnQpIHBhcmVudC5hcHBlbmRDaGlsZChyZXQpO1xuXG5cdGlmICghIC0tZGlmZkxldmVsKSB7XG5cdFx0aHlkcmF0aW5nID0gZmFsc2U7XG5cblx0XHRpZiAoIWNvbXBvbmVudFJvb3QpIGZsdXNoTW91bnRzKCk7XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBpZGlmZihkb20sIHZub2RlLCBjb250ZXh0LCBtb3VudEFsbCwgY29tcG9uZW50Um9vdCkge1xuXHR2YXIgb3V0ID0gZG9tLFxuXHQgICAgcHJldlN2Z01vZGUgPSBpc1N2Z01vZGU7XG5cblx0aWYgKHZub2RlID09IG51bGwgfHwgdHlwZW9mIHZub2RlID09PSAnYm9vbGVhbicpIHZub2RlID0gJyc7XG5cblx0aWYgKHR5cGVvZiB2bm9kZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZub2RlID09PSAnbnVtYmVyJykge1xuXHRcdGlmIChkb20gJiYgZG9tLnNwbGl0VGV4dCAhPT0gdW5kZWZpbmVkICYmIGRvbS5wYXJlbnROb2RlICYmICghZG9tLl9jb21wb25lbnQgfHwgY29tcG9uZW50Um9vdCkpIHtcblx0XHRcdGlmIChkb20ubm9kZVZhbHVlICE9IHZub2RlKSB7XG5cdFx0XHRcdGRvbS5ub2RlVmFsdWUgPSB2bm9kZTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0b3V0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodm5vZGUpO1xuXHRcdFx0aWYgKGRvbSkge1xuXHRcdFx0XHRpZiAoZG9tLnBhcmVudE5vZGUpIGRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChvdXQsIGRvbSk7XG5cdFx0XHRcdHJlY29sbGVjdE5vZGVUcmVlKGRvbSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0b3V0WydfX3ByZWFjdGF0dHJfJ10gPSB0cnVlO1xuXG5cdFx0cmV0dXJuIG91dDtcblx0fVxuXG5cdHZhciB2bm9kZU5hbWUgPSB2bm9kZS5ub2RlTmFtZTtcblx0aWYgKHR5cGVvZiB2bm9kZU5hbWUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRyZXR1cm4gYnVpbGRDb21wb25lbnRGcm9tVk5vZGUoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHR9XG5cblx0aXNTdmdNb2RlID0gdm5vZGVOYW1lID09PSAnc3ZnJyA/IHRydWUgOiB2bm9kZU5hbWUgPT09ICdmb3JlaWduT2JqZWN0JyA/IGZhbHNlIDogaXNTdmdNb2RlO1xuXG5cdHZub2RlTmFtZSA9IFN0cmluZyh2bm9kZU5hbWUpO1xuXHRpZiAoIWRvbSB8fCAhaXNOYW1lZE5vZGUoZG9tLCB2bm9kZU5hbWUpKSB7XG5cdFx0b3V0ID0gY3JlYXRlTm9kZSh2bm9kZU5hbWUsIGlzU3ZnTW9kZSk7XG5cblx0XHRpZiAoZG9tKSB7XG5cdFx0XHR3aGlsZSAoZG9tLmZpcnN0Q2hpbGQpIHtcblx0XHRcdFx0b3V0LmFwcGVuZENoaWxkKGRvbS5maXJzdENoaWxkKTtcblx0XHRcdH1cblx0XHRcdGlmIChkb20ucGFyZW50Tm9kZSkgZG9tLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG91dCwgZG9tKTtcblxuXHRcdFx0cmVjb2xsZWN0Tm9kZVRyZWUoZG9tLCB0cnVlKTtcblx0XHR9XG5cdH1cblxuXHR2YXIgZmMgPSBvdXQuZmlyc3RDaGlsZCxcblx0ICAgIHByb3BzID0gb3V0WydfX3ByZWFjdGF0dHJfJ10sXG5cdCAgICB2Y2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcblxuXHRpZiAocHJvcHMgPT0gbnVsbCkge1xuXHRcdHByb3BzID0gb3V0WydfX3ByZWFjdGF0dHJfJ10gPSB7fTtcblx0XHRmb3IgKHZhciBhID0gb3V0LmF0dHJpYnV0ZXMsIGkgPSBhLmxlbmd0aDsgaS0tOykge1xuXHRcdFx0cHJvcHNbYVtpXS5uYW1lXSA9IGFbaV0udmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFoeWRyYXRpbmcgJiYgdmNoaWxkcmVuICYmIHZjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgdHlwZW9mIHZjaGlsZHJlblswXSA9PT0gJ3N0cmluZycgJiYgZmMgIT0gbnVsbCAmJiBmYy5zcGxpdFRleHQgIT09IHVuZGVmaW5lZCAmJiBmYy5uZXh0U2libGluZyA9PSBudWxsKSB7XG5cdFx0aWYgKGZjLm5vZGVWYWx1ZSAhPSB2Y2hpbGRyZW5bMF0pIHtcblx0XHRcdGZjLm5vZGVWYWx1ZSA9IHZjaGlsZHJlblswXTtcblx0XHR9XG5cdH0gZWxzZSBpZiAodmNoaWxkcmVuICYmIHZjaGlsZHJlbi5sZW5ndGggfHwgZmMgIT0gbnVsbCkge1xuXHRcdFx0aW5uZXJEaWZmTm9kZShvdXQsIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwsIGh5ZHJhdGluZyB8fCBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAhPSBudWxsKTtcblx0XHR9XG5cblx0ZGlmZkF0dHJpYnV0ZXMob3V0LCB2bm9kZS5hdHRyaWJ1dGVzLCBwcm9wcyk7XG5cblx0aXNTdmdNb2RlID0gcHJldlN2Z01vZGU7XG5cblx0cmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gaW5uZXJEaWZmTm9kZShkb20sIHZjaGlsZHJlbiwgY29udGV4dCwgbW91bnRBbGwsIGlzSHlkcmF0aW5nKSB7XG5cdHZhciBvcmlnaW5hbENoaWxkcmVuID0gZG9tLmNoaWxkTm9kZXMsXG5cdCAgICBjaGlsZHJlbiA9IFtdLFxuXHQgICAga2V5ZWQgPSB7fSxcblx0ICAgIGtleWVkTGVuID0gMCxcblx0ICAgIG1pbiA9IDAsXG5cdCAgICBsZW4gPSBvcmlnaW5hbENoaWxkcmVuLmxlbmd0aCxcblx0ICAgIGNoaWxkcmVuTGVuID0gMCxcblx0ICAgIHZsZW4gPSB2Y2hpbGRyZW4gPyB2Y2hpbGRyZW4ubGVuZ3RoIDogMCxcblx0ICAgIGosXG5cdCAgICBjLFxuXHQgICAgZixcblx0ICAgIHZjaGlsZCxcblx0ICAgIGNoaWxkO1xuXG5cdGlmIChsZW4gIT09IDApIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR2YXIgX2NoaWxkID0gb3JpZ2luYWxDaGlsZHJlbltpXSxcblx0XHRcdCAgICBwcm9wcyA9IF9jaGlsZFsnX19wcmVhY3RhdHRyXyddLFxuXHRcdFx0ICAgIGtleSA9IHZsZW4gJiYgcHJvcHMgPyBfY2hpbGQuX2NvbXBvbmVudCA/IF9jaGlsZC5fY29tcG9uZW50Ll9fa2V5IDogcHJvcHMua2V5IDogbnVsbDtcblx0XHRcdGlmIChrZXkgIT0gbnVsbCkge1xuXHRcdFx0XHRrZXllZExlbisrO1xuXHRcdFx0XHRrZXllZFtrZXldID0gX2NoaWxkO1xuXHRcdFx0fSBlbHNlIGlmIChwcm9wcyB8fCAoX2NoaWxkLnNwbGl0VGV4dCAhPT0gdW5kZWZpbmVkID8gaXNIeWRyYXRpbmcgPyBfY2hpbGQubm9kZVZhbHVlLnRyaW0oKSA6IHRydWUgOiBpc0h5ZHJhdGluZykpIHtcblx0XHRcdFx0Y2hpbGRyZW5bY2hpbGRyZW5MZW4rK10gPSBfY2hpbGQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKHZsZW4gIT09IDApIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHZsZW47IGkrKykge1xuXHRcdFx0dmNoaWxkID0gdmNoaWxkcmVuW2ldO1xuXHRcdFx0Y2hpbGQgPSBudWxsO1xuXG5cdFx0XHR2YXIga2V5ID0gdmNoaWxkLmtleTtcblx0XHRcdGlmIChrZXkgIT0gbnVsbCkge1xuXHRcdFx0XHRpZiAoa2V5ZWRMZW4gJiYga2V5ZWRba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Y2hpbGQgPSBrZXllZFtrZXldO1xuXHRcdFx0XHRcdGtleWVkW2tleV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0a2V5ZWRMZW4tLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChtaW4gPCBjaGlsZHJlbkxlbikge1xuXHRcdFx0XHRcdGZvciAoaiA9IG1pbjsgaiA8IGNoaWxkcmVuTGVuOyBqKyspIHtcblx0XHRcdFx0XHRcdGlmIChjaGlsZHJlbltqXSAhPT0gdW5kZWZpbmVkICYmIGlzU2FtZU5vZGVUeXBlKGMgPSBjaGlsZHJlbltqXSwgdmNoaWxkLCBpc0h5ZHJhdGluZykpIHtcblx0XHRcdFx0XHRcdFx0Y2hpbGQgPSBjO1xuXHRcdFx0XHRcdFx0XHRjaGlsZHJlbltqXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0aWYgKGogPT09IGNoaWxkcmVuTGVuIC0gMSkgY2hpbGRyZW5MZW4tLTtcblx0XHRcdFx0XHRcdFx0aWYgKGogPT09IG1pbikgbWluKys7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRjaGlsZCA9IGlkaWZmKGNoaWxkLCB2Y2hpbGQsIGNvbnRleHQsIG1vdW50QWxsKTtcblxuXHRcdFx0ZiA9IG9yaWdpbmFsQ2hpbGRyZW5baV07XG5cdFx0XHRpZiAoY2hpbGQgJiYgY2hpbGQgIT09IGRvbSAmJiBjaGlsZCAhPT0gZikge1xuXHRcdFx0XHRpZiAoZiA9PSBudWxsKSB7XG5cdFx0XHRcdFx0ZG9tLmFwcGVuZENoaWxkKGNoaWxkKTtcblx0XHRcdFx0fSBlbHNlIGlmIChjaGlsZCA9PT0gZi5uZXh0U2libGluZykge1xuXHRcdFx0XHRcdHJlbW92ZU5vZGUoZik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZG9tLmluc2VydEJlZm9yZShjaGlsZCwgZik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoa2V5ZWRMZW4pIHtcblx0XHRmb3IgKHZhciBpIGluIGtleWVkKSB7XG5cdFx0XHRpZiAoa2V5ZWRbaV0gIT09IHVuZGVmaW5lZCkgcmVjb2xsZWN0Tm9kZVRyZWUoa2V5ZWRbaV0sIGZhbHNlKTtcblx0XHR9XG5cdH1cblxuXHR3aGlsZSAobWluIDw9IGNoaWxkcmVuTGVuKSB7XG5cdFx0aWYgKChjaGlsZCA9IGNoaWxkcmVuW2NoaWxkcmVuTGVuLS1dKSAhPT0gdW5kZWZpbmVkKSByZWNvbGxlY3ROb2RlVHJlZShjaGlsZCwgZmFsc2UpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlY29sbGVjdE5vZGVUcmVlKG5vZGUsIHVubW91bnRPbmx5KSB7XG5cdHZhciBjb21wb25lbnQgPSBub2RlLl9jb21wb25lbnQ7XG5cdGlmIChjb21wb25lbnQpIHtcblx0XHR1bm1vdW50Q29tcG9uZW50KGNvbXBvbmVudCk7XG5cdH0gZWxzZSB7XG5cdFx0aWYgKG5vZGVbJ19fcHJlYWN0YXR0cl8nXSAhPSBudWxsICYmIG5vZGVbJ19fcHJlYWN0YXR0cl8nXS5yZWYpIG5vZGVbJ19fcHJlYWN0YXR0cl8nXS5yZWYobnVsbCk7XG5cblx0XHRpZiAodW5tb3VudE9ubHkgPT09IGZhbHNlIHx8IG5vZGVbJ19fcHJlYWN0YXR0cl8nXSA9PSBudWxsKSB7XG5cdFx0XHRyZW1vdmVOb2RlKG5vZGUpO1xuXHRcdH1cblxuXHRcdHJlbW92ZUNoaWxkcmVuKG5vZGUpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKG5vZGUpIHtcblx0bm9kZSA9IG5vZGUubGFzdENoaWxkO1xuXHR3aGlsZSAobm9kZSkge1xuXHRcdHZhciBuZXh0ID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG5cdFx0cmVjb2xsZWN0Tm9kZVRyZWUobm9kZSwgdHJ1ZSk7XG5cdFx0bm9kZSA9IG5leHQ7XG5cdH1cbn1cblxuZnVuY3Rpb24gZGlmZkF0dHJpYnV0ZXMoZG9tLCBhdHRycywgb2xkKSB7XG5cdHZhciBuYW1lO1xuXG5cdGZvciAobmFtZSBpbiBvbGQpIHtcblx0XHRpZiAoIShhdHRycyAmJiBhdHRyc1tuYW1lXSAhPSBudWxsKSAmJiBvbGRbbmFtZV0gIT0gbnVsbCkge1xuXHRcdFx0c2V0QWNjZXNzb3IoZG9tLCBuYW1lLCBvbGRbbmFtZV0sIG9sZFtuYW1lXSA9IHVuZGVmaW5lZCwgaXNTdmdNb2RlKTtcblx0XHR9XG5cdH1cblxuXHRmb3IgKG5hbWUgaW4gYXR0cnMpIHtcblx0XHRpZiAobmFtZSAhPT0gJ2NoaWxkcmVuJyAmJiBuYW1lICE9PSAnaW5uZXJIVE1MJyAmJiAoIShuYW1lIGluIG9sZCkgfHwgYXR0cnNbbmFtZV0gIT09IChuYW1lID09PSAndmFsdWUnIHx8IG5hbWUgPT09ICdjaGVja2VkJyA/IGRvbVtuYW1lXSA6IG9sZFtuYW1lXSkpKSB7XG5cdFx0XHRzZXRBY2Nlc3Nvcihkb20sIG5hbWUsIG9sZFtuYW1lXSwgb2xkW25hbWVdID0gYXR0cnNbbmFtZV0sIGlzU3ZnTW9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbnZhciByZWN5Y2xlckNvbXBvbmVudHMgPSBbXTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KEN0b3IsIHByb3BzLCBjb250ZXh0KSB7XG5cdHZhciBpbnN0LFxuXHQgICAgaSA9IHJlY3ljbGVyQ29tcG9uZW50cy5sZW5ndGg7XG5cblx0aWYgKEN0b3IucHJvdG90eXBlICYmIEN0b3IucHJvdG90eXBlLnJlbmRlcikge1xuXHRcdGluc3QgPSBuZXcgQ3Rvcihwcm9wcywgY29udGV4dCk7XG5cdFx0Q29tcG9uZW50LmNhbGwoaW5zdCwgcHJvcHMsIGNvbnRleHQpO1xuXHR9IGVsc2Uge1xuXHRcdGluc3QgPSBuZXcgQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KTtcblx0XHRpbnN0LmNvbnN0cnVjdG9yID0gQ3Rvcjtcblx0XHRpbnN0LnJlbmRlciA9IGRvUmVuZGVyO1xuXHR9XG5cblx0d2hpbGUgKGktLSkge1xuXHRcdGlmIChyZWN5Y2xlckNvbXBvbmVudHNbaV0uY29uc3RydWN0b3IgPT09IEN0b3IpIHtcblx0XHRcdGluc3QubmV4dEJhc2UgPSByZWN5Y2xlckNvbXBvbmVudHNbaV0ubmV4dEJhc2U7XG5cdFx0XHRyZWN5Y2xlckNvbXBvbmVudHMuc3BsaWNlKGksIDEpO1xuXHRcdFx0cmV0dXJuIGluc3Q7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGluc3Q7XG59XG5cbmZ1bmN0aW9uIGRvUmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCkge1xuXHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCk7XG59XG5cbmZ1bmN0aW9uIHNldENvbXBvbmVudFByb3BzKGNvbXBvbmVudCwgcHJvcHMsIHJlbmRlck1vZGUsIGNvbnRleHQsIG1vdW50QWxsKSB7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGUpIHJldHVybjtcblx0Y29tcG9uZW50Ll9kaXNhYmxlID0gdHJ1ZTtcblxuXHRjb21wb25lbnQuX19yZWYgPSBwcm9wcy5yZWY7XG5cdGNvbXBvbmVudC5fX2tleSA9IHByb3BzLmtleTtcblx0ZGVsZXRlIHByb3BzLnJlZjtcblx0ZGVsZXRlIHByb3BzLmtleTtcblxuXHRpZiAodHlwZW9mIGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0aWYgKCFjb21wb25lbnQuYmFzZSB8fCBtb3VudEFsbCkge1xuXHRcdFx0aWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsTW91bnQpIGNvbXBvbmVudC5jb21wb25lbnRXaWxsTW91bnQoKTtcblx0XHR9IGVsc2UgaWYgKGNvbXBvbmVudC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhwcm9wcywgY29udGV4dCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbnRleHQgJiYgY29udGV4dCAhPT0gY29tcG9uZW50LmNvbnRleHQpIHtcblx0XHRpZiAoIWNvbXBvbmVudC5wcmV2Q29udGV4dCkgY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50LmNvbnRleHQ7XG5cdFx0Y29tcG9uZW50LmNvbnRleHQgPSBjb250ZXh0O1xuXHR9XG5cblx0aWYgKCFjb21wb25lbnQucHJldlByb3BzKSBjb21wb25lbnQucHJldlByb3BzID0gY29tcG9uZW50LnByb3BzO1xuXHRjb21wb25lbnQucHJvcHMgPSBwcm9wcztcblxuXHRjb21wb25lbnQuX2Rpc2FibGUgPSBmYWxzZTtcblxuXHRpZiAocmVuZGVyTW9kZSAhPT0gMCkge1xuXHRcdGlmIChyZW5kZXJNb2RlID09PSAxIHx8IG9wdGlvbnMuc3luY0NvbXBvbmVudFVwZGF0ZXMgIT09IGZhbHNlIHx8ICFjb21wb25lbnQuYmFzZSkge1xuXHRcdFx0cmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCwgMSwgbW91bnRBbGwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbnF1ZXVlUmVuZGVyKGNvbXBvbmVudCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGNvbXBvbmVudC5fX3JlZikgY29tcG9uZW50Ll9fcmVmKGNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQsIHJlbmRlck1vZGUsIG1vdW50QWxsLCBpc0NoaWxkKSB7XG5cdGlmIChjb21wb25lbnQuX2Rpc2FibGUpIHJldHVybjtcblxuXHR2YXIgcHJvcHMgPSBjb21wb25lbnQucHJvcHMsXG5cdCAgICBzdGF0ZSA9IGNvbXBvbmVudC5zdGF0ZSxcblx0ICAgIGNvbnRleHQgPSBjb21wb25lbnQuY29udGV4dCxcblx0ICAgIHByZXZpb3VzUHJvcHMgPSBjb21wb25lbnQucHJldlByb3BzIHx8IHByb3BzLFxuXHQgICAgcHJldmlvdXNTdGF0ZSA9IGNvbXBvbmVudC5wcmV2U3RhdGUgfHwgc3RhdGUsXG5cdCAgICBwcmV2aW91c0NvbnRleHQgPSBjb21wb25lbnQucHJldkNvbnRleHQgfHwgY29udGV4dCxcblx0ICAgIGlzVXBkYXRlID0gY29tcG9uZW50LmJhc2UsXG5cdCAgICBuZXh0QmFzZSA9IGNvbXBvbmVudC5uZXh0QmFzZSxcblx0ICAgIGluaXRpYWxCYXNlID0gaXNVcGRhdGUgfHwgbmV4dEJhc2UsXG5cdCAgICBpbml0aWFsQ2hpbGRDb21wb25lbnQgPSBjb21wb25lbnQuX2NvbXBvbmVudCxcblx0ICAgIHNraXAgPSBmYWxzZSxcblx0ICAgIHNuYXBzaG90ID0gcHJldmlvdXNDb250ZXh0LFxuXHQgICAgcmVuZGVyZWQsXG5cdCAgICBpbnN0LFxuXHQgICAgY2Jhc2U7XG5cblx0aWYgKGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpIHtcblx0XHRzdGF0ZSA9IGV4dGVuZChleHRlbmQoe30sIHN0YXRlKSwgY29tcG9uZW50LmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpKTtcblx0XHRjb21wb25lbnQuc3RhdGUgPSBzdGF0ZTtcblx0fVxuXG5cdGlmIChpc1VwZGF0ZSkge1xuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByZXZpb3VzUHJvcHM7XG5cdFx0Y29tcG9uZW50LnN0YXRlID0gcHJldmlvdXNTdGF0ZTtcblx0XHRjb21wb25lbnQuY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcblx0XHRpZiAocmVuZGVyTW9kZSAhPT0gMiAmJiBjb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlICYmIGNvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGUocHJvcHMsIHN0YXRlLCBjb250ZXh0KSA9PT0gZmFsc2UpIHtcblx0XHRcdHNraXAgPSB0cnVlO1xuXHRcdH0gZWxzZSBpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVcGRhdGUpIHtcblx0XHRcdGNvbXBvbmVudC5jb21wb25lbnRXaWxsVXBkYXRlKHByb3BzLCBzdGF0ZSwgY29udGV4dCk7XG5cdFx0fVxuXHRcdGNvbXBvbmVudC5wcm9wcyA9IHByb3BzO1xuXHRcdGNvbXBvbmVudC5zdGF0ZSA9IHN0YXRlO1xuXHRcdGNvbXBvbmVudC5jb250ZXh0ID0gY29udGV4dDtcblx0fVxuXG5cdGNvbXBvbmVudC5wcmV2UHJvcHMgPSBjb21wb25lbnQucHJldlN0YXRlID0gY29tcG9uZW50LnByZXZDb250ZXh0ID0gY29tcG9uZW50Lm5leHRCYXNlID0gbnVsbDtcblx0Y29tcG9uZW50Ll9kaXJ0eSA9IGZhbHNlO1xuXG5cdGlmICghc2tpcCkge1xuXHRcdHJlbmRlcmVkID0gY29tcG9uZW50LnJlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpO1xuXG5cdFx0aWYgKGNvbXBvbmVudC5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdGNvbnRleHQgPSBleHRlbmQoZXh0ZW5kKHt9LCBjb250ZXh0KSwgY29tcG9uZW50LmdldENoaWxkQ29udGV4dCgpKTtcblx0XHR9XG5cblx0XHRpZiAoaXNVcGRhdGUgJiYgY29tcG9uZW50LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKSB7XG5cdFx0XHRzbmFwc2hvdCA9IGNvbXBvbmVudC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwcmV2aW91c1Byb3BzLCBwcmV2aW91c1N0YXRlKTtcblx0XHR9XG5cblx0XHR2YXIgY2hpbGRDb21wb25lbnQgPSByZW5kZXJlZCAmJiByZW5kZXJlZC5ub2RlTmFtZSxcblx0XHQgICAgdG9Vbm1vdW50LFxuXHRcdCAgICBiYXNlO1xuXG5cdFx0aWYgKHR5cGVvZiBjaGlsZENvbXBvbmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuXG5cdFx0XHR2YXIgY2hpbGRQcm9wcyA9IGdldE5vZGVQcm9wcyhyZW5kZXJlZCk7XG5cdFx0XHRpbnN0ID0gaW5pdGlhbENoaWxkQ29tcG9uZW50O1xuXG5cdFx0XHRpZiAoaW5zdCAmJiBpbnN0LmNvbnN0cnVjdG9yID09PSBjaGlsZENvbXBvbmVudCAmJiBjaGlsZFByb3BzLmtleSA9PSBpbnN0Ll9fa2V5KSB7XG5cdFx0XHRcdHNldENvbXBvbmVudFByb3BzKGluc3QsIGNoaWxkUHJvcHMsIDEsIGNvbnRleHQsIGZhbHNlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRvVW5tb3VudCA9IGluc3Q7XG5cblx0XHRcdFx0Y29tcG9uZW50Ll9jb21wb25lbnQgPSBpbnN0ID0gY3JlYXRlQ29tcG9uZW50KGNoaWxkQ29tcG9uZW50LCBjaGlsZFByb3BzLCBjb250ZXh0KTtcblx0XHRcdFx0aW5zdC5uZXh0QmFzZSA9IGluc3QubmV4dEJhc2UgfHwgbmV4dEJhc2U7XG5cdFx0XHRcdGluc3QuX3BhcmVudENvbXBvbmVudCA9IGNvbXBvbmVudDtcblx0XHRcdFx0c2V0Q29tcG9uZW50UHJvcHMoaW5zdCwgY2hpbGRQcm9wcywgMCwgY29udGV4dCwgZmFsc2UpO1xuXHRcdFx0XHRyZW5kZXJDb21wb25lbnQoaW5zdCwgMSwgbW91bnRBbGwsIHRydWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRiYXNlID0gaW5zdC5iYXNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjYmFzZSA9IGluaXRpYWxCYXNlO1xuXG5cdFx0XHR0b1VubW91bnQgPSBpbml0aWFsQ2hpbGRDb21wb25lbnQ7XG5cdFx0XHRpZiAodG9Vbm1vdW50KSB7XG5cdFx0XHRcdGNiYXNlID0gY29tcG9uZW50Ll9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaW5pdGlhbEJhc2UgfHwgcmVuZGVyTW9kZSA9PT0gMSkge1xuXHRcdFx0XHRpZiAoY2Jhc2UpIGNiYXNlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdFx0XHRiYXNlID0gZGlmZihjYmFzZSwgcmVuZGVyZWQsIGNvbnRleHQsIG1vdW50QWxsIHx8ICFpc1VwZGF0ZSwgaW5pdGlhbEJhc2UgJiYgaW5pdGlhbEJhc2UucGFyZW50Tm9kZSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGluaXRpYWxCYXNlICYmIGJhc2UgIT09IGluaXRpYWxCYXNlICYmIGluc3QgIT09IGluaXRpYWxDaGlsZENvbXBvbmVudCkge1xuXHRcdFx0dmFyIGJhc2VQYXJlbnQgPSBpbml0aWFsQmFzZS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKGJhc2VQYXJlbnQgJiYgYmFzZSAhPT0gYmFzZVBhcmVudCkge1xuXHRcdFx0XHRiYXNlUGFyZW50LnJlcGxhY2VDaGlsZChiYXNlLCBpbml0aWFsQmFzZSk7XG5cblx0XHRcdFx0aWYgKCF0b1VubW91bnQpIHtcblx0XHRcdFx0XHRpbml0aWFsQmFzZS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdFx0XHRyZWNvbGxlY3ROb2RlVHJlZShpbml0aWFsQmFzZSwgZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHRvVW5tb3VudCkge1xuXHRcdFx0dW5tb3VudENvbXBvbmVudCh0b1VubW91bnQpO1xuXHRcdH1cblxuXHRcdGNvbXBvbmVudC5iYXNlID0gYmFzZTtcblx0XHRpZiAoYmFzZSAmJiAhaXNDaGlsZCkge1xuXHRcdFx0dmFyIGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudCxcblx0XHRcdCAgICB0ID0gY29tcG9uZW50O1xuXHRcdFx0d2hpbGUgKHQgPSB0Ll9wYXJlbnRDb21wb25lbnQpIHtcblx0XHRcdFx0KGNvbXBvbmVudFJlZiA9IHQpLmJhc2UgPSBiYXNlO1xuXHRcdFx0fVxuXHRcdFx0YmFzZS5fY29tcG9uZW50ID0gY29tcG9uZW50UmVmO1xuXHRcdFx0YmFzZS5fY29tcG9uZW50Q29uc3RydWN0b3IgPSBjb21wb25lbnRSZWYuY29uc3RydWN0b3I7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFpc1VwZGF0ZSB8fCBtb3VudEFsbCkge1xuXHRcdG1vdW50cy51bnNoaWZ0KGNvbXBvbmVudCk7XG5cdH0gZWxzZSBpZiAoIXNraXApIHtcblxuXHRcdGlmIChjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKSB7XG5cdFx0XHRjb21wb25lbnQuY29tcG9uZW50RGlkVXBkYXRlKHByZXZpb3VzUHJvcHMsIHByZXZpb3VzU3RhdGUsIHNuYXBzaG90KTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuYWZ0ZXJVcGRhdGUpIG9wdGlvbnMuYWZ0ZXJVcGRhdGUoY29tcG9uZW50KTtcblx0fVxuXG5cdHdoaWxlIChjb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRjb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcy5wb3AoKS5jYWxsKGNvbXBvbmVudCk7XG5cdH1pZiAoIWRpZmZMZXZlbCAmJiAhaXNDaGlsZCkgZmx1c2hNb3VudHMoKTtcbn1cblxuZnVuY3Rpb24gYnVpbGRDb21wb25lbnRGcm9tVk5vZGUoZG9tLCB2bm9kZSwgY29udGV4dCwgbW91bnRBbGwpIHtcblx0dmFyIGMgPSBkb20gJiYgZG9tLl9jb21wb25lbnQsXG5cdCAgICBvcmlnaW5hbENvbXBvbmVudCA9IGMsXG5cdCAgICBvbGREb20gPSBkb20sXG5cdCAgICBpc0RpcmVjdE93bmVyID0gYyAmJiBkb20uX2NvbXBvbmVudENvbnN0cnVjdG9yID09PSB2bm9kZS5ub2RlTmFtZSxcblx0ICAgIGlzT3duZXIgPSBpc0RpcmVjdE93bmVyLFxuXHQgICAgcHJvcHMgPSBnZXROb2RlUHJvcHModm5vZGUpO1xuXHR3aGlsZSAoYyAmJiAhaXNPd25lciAmJiAoYyA9IGMuX3BhcmVudENvbXBvbmVudCkpIHtcblx0XHRpc093bmVyID0gYy5jb25zdHJ1Y3RvciA9PT0gdm5vZGUubm9kZU5hbWU7XG5cdH1cblxuXHRpZiAoYyAmJiBpc093bmVyICYmICghbW91bnRBbGwgfHwgYy5fY29tcG9uZW50KSkge1xuXHRcdHNldENvbXBvbmVudFByb3BzKGMsIHByb3BzLCAzLCBjb250ZXh0LCBtb3VudEFsbCk7XG5cdFx0ZG9tID0gYy5iYXNlO1xuXHR9IGVsc2Uge1xuXHRcdGlmIChvcmlnaW5hbENvbXBvbmVudCAmJiAhaXNEaXJlY3RPd25lcikge1xuXHRcdFx0dW5tb3VudENvbXBvbmVudChvcmlnaW5hbENvbXBvbmVudCk7XG5cdFx0XHRkb20gPSBvbGREb20gPSBudWxsO1xuXHRcdH1cblxuXHRcdGMgPSBjcmVhdGVDb21wb25lbnQodm5vZGUubm9kZU5hbWUsIHByb3BzLCBjb250ZXh0KTtcblx0XHRpZiAoZG9tICYmICFjLm5leHRCYXNlKSB7XG5cdFx0XHRjLm5leHRCYXNlID0gZG9tO1xuXG5cdFx0XHRvbGREb20gPSBudWxsO1xuXHRcdH1cblx0XHRzZXRDb21wb25lbnRQcm9wcyhjLCBwcm9wcywgMSwgY29udGV4dCwgbW91bnRBbGwpO1xuXHRcdGRvbSA9IGMuYmFzZTtcblxuXHRcdGlmIChvbGREb20gJiYgZG9tICE9PSBvbGREb20pIHtcblx0XHRcdG9sZERvbS5fY29tcG9uZW50ID0gbnVsbDtcblx0XHRcdHJlY29sbGVjdE5vZGVUcmVlKG9sZERvbSwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkb207XG59XG5cbmZ1bmN0aW9uIHVubW91bnRDb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGlmIChvcHRpb25zLmJlZm9yZVVubW91bnQpIG9wdGlvbnMuYmVmb3JlVW5tb3VudChjb21wb25lbnQpO1xuXG5cdHZhciBiYXNlID0gY29tcG9uZW50LmJhc2U7XG5cblx0Y29tcG9uZW50Ll9kaXNhYmxlID0gdHJ1ZTtcblxuXHRpZiAoY29tcG9uZW50LmNvbXBvbmVudFdpbGxVbm1vdW50KSBjb21wb25lbnQuY29tcG9uZW50V2lsbFVubW91bnQoKTtcblxuXHRjb21wb25lbnQuYmFzZSA9IG51bGw7XG5cblx0dmFyIGlubmVyID0gY29tcG9uZW50Ll9jb21wb25lbnQ7XG5cdGlmIChpbm5lcikge1xuXHRcdHVubW91bnRDb21wb25lbnQoaW5uZXIpO1xuXHR9IGVsc2UgaWYgKGJhc2UpIHtcblx0XHRpZiAoYmFzZVsnX19wcmVhY3RhdHRyXyddICYmIGJhc2VbJ19fcHJlYWN0YXR0cl8nXS5yZWYpIGJhc2VbJ19fcHJlYWN0YXR0cl8nXS5yZWYobnVsbCk7XG5cblx0XHRjb21wb25lbnQubmV4dEJhc2UgPSBiYXNlO1xuXG5cdFx0cmVtb3ZlTm9kZShiYXNlKTtcblx0XHRyZWN5Y2xlckNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuXG5cdFx0cmVtb3ZlQ2hpbGRyZW4oYmFzZSk7XG5cdH1cblxuXHRpZiAoY29tcG9uZW50Ll9fcmVmKSBjb21wb25lbnQuX19yZWYobnVsbCk7XG59XG5cbmZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCkge1xuXHR0aGlzLl9kaXJ0eSA9IHRydWU7XG5cblx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuXHR0aGlzLnByb3BzID0gcHJvcHM7XG5cblx0dGhpcy5zdGF0ZSA9IHRoaXMuc3RhdGUgfHwge307XG5cblx0dGhpcy5fcmVuZGVyQ2FsbGJhY2tzID0gW107XG59XG5cbmV4dGVuZChDb21wb25lbnQucHJvdG90eXBlLCB7XG5cdHNldFN0YXRlOiBmdW5jdGlvbiBzZXRTdGF0ZShzdGF0ZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIXRoaXMucHJldlN0YXRlKSB0aGlzLnByZXZTdGF0ZSA9IHRoaXMuc3RhdGU7XG5cdFx0dGhpcy5zdGF0ZSA9IGV4dGVuZChleHRlbmQoe30sIHRoaXMuc3RhdGUpLCB0eXBlb2Ygc3RhdGUgPT09ICdmdW5jdGlvbicgPyBzdGF0ZSh0aGlzLnN0YXRlLCB0aGlzLnByb3BzKSA6IHN0YXRlKTtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9LFxuXHRmb3JjZVVwZGF0ZTogZnVuY3Rpb24gZm9yY2VVcGRhdGUoY2FsbGJhY2spIHtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRyZW5kZXJDb21wb25lbnQodGhpcywgMik7XG5cdH0sXG5cdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge31cbn0pO1xuXG5mdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgbWVyZ2UpIHtcbiAgcmV0dXJuIGRpZmYobWVyZ2UsIHZub2RlLCB7fSwgZmFsc2UsIHBhcmVudCwgZmFsc2UpO1xufVxuXG52YXIgcHJlYWN0ID0ge1xuXHRoOiBoLFxuXHRjcmVhdGVFbGVtZW50OiBoLFxuXHRjbG9uZUVsZW1lbnQ6IGNsb25lRWxlbWVudCxcblx0Q29tcG9uZW50OiBDb21wb25lbnQsXG5cdHJlbmRlcjogcmVuZGVyLFxuXHRyZXJlbmRlcjogcmVyZW5kZXIsXG5cdG9wdGlvbnM6IG9wdGlvbnNcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHByZWFjdDtcbmV4cG9ydCB7IGgsIGggYXMgY3JlYXRlRWxlbWVudCwgY2xvbmVFbGVtZW50LCBDb21wb25lbnQsIHJlbmRlciwgcmVyZW5kZXIsIG9wdGlvbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZWFjdC5tanMubWFwXG4iLCJpbXBvcnQgKiBhcyBncmFwcWwgZnJvbSAnanMvZ3JhcGhxbCdcblxuZXhwb3J0IGludGVyZmFjZSBCb29rIHtcbiAgICBpZDogc3RyaW5nXG4gICAgYWx0ZXJuYXRlX3Nlcmllczogc3RyaW5nXG4gICAgYXV0aG9yczogc3RyaW5nW11cbiAgICBjaGFwdGVyOiBudW1iZXJcbiAgICBjb21tdW5pdHlfcmF0aW5nOiBudW1iZXJcbiAgICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgICBjdXJyZW50X3BhZ2U6IG51bWJlclxuICAgIGRhdGVfcmVsZWFzZWQ6IHN0cmluZ1xuICAgIGZpbGU6IHN0cmluZ1xuICAgIGdlbnJlczogc3RyaW5nW11cbiAgICBsYXN0X3BhZ2VfcmVhZDogbnVtYmVyXG4gICAgcGFnZXM6IFBhZ2VbXVxuICAgIHJhdGluZzogbnVtYmVyXG4gICAgcmVhZDogQm9vbGVhblxuICAgIHJlYWRpbmdfZGlyZWN0aW9uOiBzdHJpbmdcbiAgICBzZXJpZXM6IHN0cmluZ1xuICAgIHN0b3J5X2FyYzogc3RyaW5nXG4gICAgc3VtbWFyeTogc3RyaW5nXG4gICAgdGl0bGU6IHN0cmluZ1xuICAgIHR5cGU6IHN0cmluZ1xuICAgIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICAgIHZvbHVtZTogbnVtYmVyXG4gICAgd2ViOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQYWdlIHtcbiAgICBmaWxlX251bWJlcjogbnVtYmVyXG4gICAgdHlwZTogc3RyaW5nXG4gICAgdXJsOiBzdHJpbmdcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEZpbmQoaWQ6IHN0cmluZyk6IFByb21pc2U8Qm9vaz4ge1xuICAgIGxldCByID0gYXdhaXQgZ3JhcHFsLkV4ZWMoYFxuICAgIHF1ZXJ5IGdldEJvb2soJGlkOiBJRCEpIHtcbiAgICAgICAgYm9vayhpZDogJGlkKSB7XG4gICAgICAgICAgICBpZFxuICAgICAgICAgICAgYWx0ZXJuYXRlX3Nlcmllc1xuICAgICAgICAgICAgYXV0aG9yc1xuICAgICAgICAgICAgY2hhcHRlclxuICAgICAgICAgICAgY29tbXVuaXR5X3JhdGluZ1xuICAgICAgICAgICAgY3JlYXRlZF9hdFxuICAgICAgICAgICAgY3VycmVudF9wYWdlXG4gICAgICAgICAgICBkYXRlX3JlbGVhc2VkXG4gICAgICAgICAgICBmaWxlXG4gICAgICAgICAgICBnZW5yZXNcbiAgICAgICAgICAgIGxhc3RfcGFnZV9yZWFkXG4gICAgICAgICAgICBwYWdlcyB7XG4gICAgICAgICAgICAgICAgZmlsZV9udW1iZXJcbiAgICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICAgICAgdXJsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYXRpbmdcbiAgICAgICAgICAgIHJlYWRcbiAgICAgICAgICAgIHJlYWRpbmdfZGlyZWN0aW9uXG4gICAgICAgICAgICBzZXJpZXNcbiAgICAgICAgICAgIHN0b3J5X2FyY1xuICAgICAgICAgICAgc3VtbWFyeVxuICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgIHVwZGF0ZWRfYXRcbiAgICAgICAgICAgIHZvbHVtZVxuICAgICAgICAgICAgd2ViXG4gICAgICAgIH1cbiAgICB9ICAgICAgXG4gICAgYCwgeyBpZDogaWQgfSlcbiAgICByZXR1cm4gci5kYXRhLmJvb2tcbn0iLCJcbmV4cG9ydCBpbnRlcmZhY2UgR3JhcGhxbFJlc3BvbnNlIHtcbiAgICBkYXRhOiB7W25hbWU6IHN0cmluZ106IGFueX1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEV4ZWMocXVlcnk6IHN0cmluZywgdmFyaWFibGVzPzogYW55KTogUHJvbWlzZTxHcmFwaHFsUmVzcG9uc2U+IHtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2dyYXBocWwnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgdmFyaWFibGVzOiB2YXJpYWJsZXMsXG4gICAgICAgIH0pXG4gICAgfSlcblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKClcbn0iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgRmluZCB9IGZyb20gJ2pzL21vZGVscy9ib29rJ1xuaW1wb3J0ICogYXMgcyBmcm9tICdjc3MvaG9tZS5zY3NzJ1xuXG5GaW5kKFwiY2I1OGYwZTYtMzUzZC00M2MxLTk4NjItNTlmZTQzYTU3MmNlXCIpLnRoZW4oYm9vayA9PiBjb25zb2xlLmxvZyhib29rKSlcblxuY29uc29sZS5sb2cocy50ZXN0KTtcblxuUmVhY3QucmVuZGVyKChcbiAgICA8ZGl2IGNsYXNzPXtzLnRlc3R9PnRlc3Q8L2Rpdj5cbiksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpKTsiXSwic291cmNlUm9vdCI6IiJ9